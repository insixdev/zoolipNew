import{a as O,c as Ns,e as $e,l as q}from"/build/_shared/chunk-WW3I3FRJ.js";import{v as Nt,x as mn,y as He}from"/build/_shared/chunk-O7IRWV66.js";import{a as xe,b as hn,c as Xe}from"/build/_shared/chunk-CSIMSZ3E.js";import{a as Rf,e as E,f as ge}from"/build/_shared/chunk-ADMCF34Z.js";var _s=E(q(),1);function ye({children:e,handleClick:t,classNameProps:r="",variant:i="primary",size:n="md",...o}){let s="rounded-xl font-semibold transition px-4 py-2",a={primary:"bg-transparent text-white !hover:bg-red-500",especial:"bg-brand-especial text-black hover:bg-brand",secondary:"bg-transparent text-white hover:border-white",danger:"bg-red-600 text-white hover:bg-red-700"},l={sm:"text-sm px-2 py-1",md:"text-base",lg:"text-lg px-6 py-3",xl:"text-xl px-10 py-5"};return(0,_s.jsx)("button",{className:`${s} ${a[i]} ${l[n]} ${r} mr-3 top-0 `,...o,onClick:t,children:e})}var J=E(q(),1);function Or({className:e="",signButton:t=!0}){let r=Ns();return(0,J.jsx)("div",{className:`navbar shadow-sm w-full ${e}`,children:(0,J.jsxs)("div",{className:"w-full max-w-screen-2x1 mx-auto px-4 md:px-4 lg:px-4 xl:px-4 flex items-center justify-between",children:[(0,J.jsx)("div",{className:"flex-none",children:(0,J.jsx)($e,{to:"/",className:"btn btn-ghost normal-case text-2xl font-semibold",children:"Inicio"})}),(0,J.jsxs)("div",{className:"flex gap-2 ml-20 justify-between",children:[(0,J.jsx)($e,{to:"/adoptar",className:"btn btn-ghost normal-case text-md",children:"Adoptar"}),(0,J.jsx)($e,{to:"/comunidad",className:"btn btn-ghost normal-case text-md",children:"Comunidad"}),(0,J.jsx)($e,{to:"/acerca",className:"btn btn-ghost normal-case text-md",children:"Acerca"})]}),(0,J.jsx)("div",{className:"flex-1"}),t&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(ye,{variant:"secondary",size:"md",handleClick:()=>{r("/login")},children:"Sign in"}),(0,J.jsx)(ye,{variant:"secondary",size:"md",handleClick:()=>{r("/register")},children:"Sign up"})]})]})})}var Y=E(O(),1);function Yt(e){let t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function kr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function zs(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function pn(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function dn(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function js(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Us(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function _r(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Gs(e,t){let r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function Ws(e,t){let r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function gn(e){let t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function Ks(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function qs(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function Nr(e,t){let r=t[0],i=t[1],n=t[2],o=r*r+i*i+n*n;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function xn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function yn(e,t,r){let i=t[0],n=t[1],o=t[2],s=r[0],a=r[1],l=r[2];return e[0]=n*l-o*a,e[1]=o*s-i*l,e[2]=i*a-n*s,e}function $s(e,t,r,i){let n=t[0],o=t[1],s=t[2];return e[0]=n+i*(r[0]-n),e[1]=o+i*(r[1]-o),e[2]=s+i*(r[2]-s),e}function Hs(e,t,r,i,n){let o=Math.exp(-i*n),s=t[0],a=t[1],l=t[2];return e[0]=r[0]+(s-r[0])*o,e[1]=r[1]+(a-r[1])*o,e[2]=r[2]+(l-r[2])*o,e}function Xs(e,t,r){let i=t[0],n=t[1],o=t[2],s=r[3]*i+r[7]*n+r[11]*o+r[15];return s=s||1,e[0]=(r[0]*i+r[4]*n+r[8]*o+r[12])/s,e[1]=(r[1]*i+r[5]*n+r[9]*o+r[13])/s,e[2]=(r[2]*i+r[6]*n+r[10]*o+r[14])/s,e}function Ys(e,t,r){let i=t[0],n=t[1],o=t[2],s=r[3]*i+r[7]*n+r[11]*o+r[15];return s=s||1,e[0]=(r[0]*i+r[4]*n+r[8]*o)/s,e[1]=(r[1]*i+r[5]*n+r[9]*o)/s,e[2]=(r[2]*i+r[6]*n+r[10]*o)/s,e}function Zs(e,t,r){let i=t[0],n=t[1],o=t[2];return e[0]=i*r[0]+n*r[3]+o*r[6],e[1]=i*r[1]+n*r[4]+o*r[7],e[2]=i*r[2]+n*r[5]+o*r[8],e}function Qs(e,t,r){let i=t[0],n=t[1],o=t[2],s=r[0],a=r[1],l=r[2],f=r[3],c=a*o-l*n,u=l*i-s*o,m=s*n-a*i,h=a*m-l*u,p=l*c-s*m,d=s*u-a*c,x=f*2;return c*=x,u*=x,m*=x,h*=2,p*=2,d*=2,e[0]=i+c+h,e[1]=n+u+p,e[2]=o+m+d,e}var Js=function(){let e=[0,0,0],t=[0,0,0];return function(r,i){kr(e,r),kr(t,i),Nr(e,e),Nr(t,t);let n=xn(e,t);return n>1?0:n<-1?Math.PI:Math.acos(n)}}();function to(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var tt=class extends Array{constructor(t=0,r=t,i=t){return super(t,r,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,r=t,i=t){return t.length?this.copy(t):(zs(this,t,r,i),this)}copy(t){return kr(this,t),this}add(t,r){return r?pn(this,t,r):pn(this,this,t),this}sub(t,r){return r?dn(this,t,r):dn(this,this,t),this}multiply(t){return t.length?js(this,this,t):_r(this,this,t),this}divide(t){return t.length?Us(this,this,t):_r(this,this,1/t),this}inverse(t=this){return qs(this,t),this}len(){return Yt(this)}distance(t){return t?Gs(this,t):Yt(this)}squaredLen(){return gn(this)}squaredDistance(t){return t?Ws(this,t):gn(this)}negate(t=this){return Ks(this,t),this}cross(t,r){return r?yn(this,t,r):yn(this,this,t),this}scale(t){return _r(this,this,t),this}normalize(){return Nr(this,this),this}dot(t){return xn(this,t)}equals(t){return to(this,t)}applyMatrix3(t){return Zs(this,this,t),this}applyMatrix4(t){return Xs(this,this,t),this}scaleRotateMatrix4(t){return Ys(this,this,t),this}applyQuaternion(t){return Qs(this,this,t),this}angle(t){return Js(this,t)}lerp(t,r){return $s(this,this,t,r),this}smoothLerp(t,r,i){return Hs(this,this,t,r,i),this}clone(){return new tt(this[0],this[1],this[2])}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}transformDirection(t){let r=this[0],i=this[1],n=this[2];return this[0]=t[0]*r+t[4]*i+t[8]*n,this[1]=t[1]*r+t[5]*i+t[9]*n,this[2]=t[2]*r+t[6]*i+t[10]*n,this.normalize()}};var ro=new tt,Lf=1,If=1,io=!1,zr=class{constructor(t,r={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=r,this.id=Lf++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in r)this.addAttribute(i,r[i])}addAttribute(t,r){if(this.attributes[t]=r,r.id=If++,r.size=r.size||1,r.type=r.type||(r.data.constructor===Float32Array?this.gl.FLOAT:r.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),r.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,r.normalized=r.normalized||!1,r.stride=r.stride||0,r.offset=r.offset||0,r.count=r.count||(r.stride?r.data.byteLength/r.stride:r.data.length/r.size),r.divisor=r.instanced||0,r.needsUpdate=!1,r.usage=r.usage||this.gl.STATIC_DRAW,r.buffer||this.updateAttribute(r),r.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==r.count*r.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,r.count*r.divisor);this.instancedCount=r.count*r.divisor}else t==="index"?this.drawRange.count=r.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,r.count))}updateAttribute(t){let r=!t.buffer;r&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),r?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((r,{name:i,type:n})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}let o=this.attributes[i];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let s=1;n===35674&&(s=2),n===35675&&(s=3),n===35676&&(s=4);let a=o.size/s,l=s===1?0:s*s*4,f=s===1?0:s*4;for(let c=0;c<s;c++)this.gl.vertexAttribPointer(r+c,a,o.type,o.normalized,o.stride+l,o.offset+c*f),this.gl.enableVertexAttribArray(r+c),this.gl.renderer.vertexAttribDivisor(r+c,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:r=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((n,{name:o})=>{let s=this.attributes[o];s.needsUpdate&&this.updateAttribute(s)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(r,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(r,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(r,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;if(t.data)return t;if(!io)return console.warn("No position buffer data found to compute bounds"),io=!0}computeBoundingBox(t){t||(t=this.getPosition());let r=t.data,i=t.size;this.bounds||(this.bounds={min:new tt,max:new tt,center:new tt,scale:new tt,radius:1/0});let n=this.bounds.min,o=this.bounds.max,s=this.bounds.center,a=this.bounds.scale;n.set(1/0),o.set(-1/0);for(let l=0,f=r.length;l<f;l+=i){let c=r[l],u=r[l+1],m=r[l+2];n.x=Math.min(c,n.x),n.y=Math.min(u,n.y),n.z=Math.min(m,n.z),o.x=Math.max(c,o.x),o.y=Math.max(u,o.y),o.z=Math.max(m,o.z)}a.sub(o,n),s.add(n,o).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let r=t.data,i=t.size;this.bounds||this.computeBoundingBox(t);let n=0;for(let o=0,s=r.length;o<s;o+=i)ro.fromArray(r,o),n=Math.max(n,this.bounds.center.squaredDistance(ro));this.bounds.radius=Math.sqrt(n)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}};var Bf=1,no={},Ye=class{constructor(t,{vertex:r,fragment:i,uniforms:n={},transparent:o=!1,cullFace:s=t.BACK,frontFace:a=t.CCW,depthTest:l=!0,depthWrite:f=!0,depthFunc:c=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=n,this.id=Bf++,r||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=s,this.frontFace=a,this.depthTest=l,this.depthWrite=f,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:r,fragment:i})}setShaders({vertex:t,fragment:r}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${so(t)}`)),r&&(this.gl.shaderSource(this.fragmentShader,r),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${so(r)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){let a=this.gl.getActiveUniform(this.program,s);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));let l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;let n=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let s=0;s<o;s++){let a=this.gl.getActiveAttrib(this.program,s),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(n[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=n.join("")}setBlendFunc(t,r,i,n){this.blendFunc.src=t,this.blendFunc.dst=r,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=n,t&&(this.transparent=!0)}setBlendEquation(t,r){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=r}setStencilFunc(t,r,i){this.stencilRef=r,this.stencilFunc.func=t,this.stencilFunc.ref=r,this.stencilFunc.mask=i}setStencilOp(t,r,i){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=r,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let r=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((n,o)=>{let s=this.uniforms[o.uniformName];for(let a of o.nameComponents){if(!s)break;if(a in s)s=s[a];else{if(Array.isArray(s.value))break;s=void 0;break}}if(!s)return oo(`Active uniform ${o.name} has not been supplied`);if(s&&s.value===void 0)return oo(`${o.name} uniform is missing a value parameter`);if(s.value.texture)return r=r+1,s.value.update(r),vn(this.gl,o.type,n,r);if(s.value.length&&s.value[0].texture){let a=[];return s.value.forEach(l=>{r=r+1,l.update(r),a.push(r)}),vn(this.gl,o.type,n,a)}vn(this.gl,o.type,n,s.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}};function vn(e,t,r,i){i=i.length?Of(i):i;let n=e.renderer.state.uniformLocations.get(r);if(i.length)if(n===void 0||n.length!==i.length)e.renderer.state.uniformLocations.set(r,i.slice(0));else{if(kf(n,i))return;n.set?n.set(i):Nf(n,i),e.renderer.state.uniformLocations.set(r,n)}else{if(n===i)return;e.renderer.state.uniformLocations.set(r,i)}switch(t){case 5126:return i.length?e.uniform1fv(r,i):e.uniform1f(r,i);case 35664:return e.uniform2fv(r,i);case 35665:return e.uniform3fv(r,i);case 35666:return e.uniform4fv(r,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?e.uniform1iv(r,i):e.uniform1i(r,i);case 35671:case 35667:return e.uniform2iv(r,i);case 35672:case 35668:return e.uniform3iv(r,i);case 35673:case 35669:return e.uniform4iv(r,i);case 35674:return e.uniformMatrix2fv(r,!1,i);case 35675:return e.uniformMatrix3fv(r,!1,i);case 35676:return e.uniformMatrix4fv(r,!1,i)}}function so(e){let t=e.split(`
`);for(let r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join(`
`)}function Of(e){let t=e.length,r=e[0].length;if(r===void 0)return e;let i=t*r,n=no[i];n||(no[i]=n=new Float32Array(i));for(let o=0;o<t;o++)n.set(e[o],o*r);return n}function kf(e,t){if(e.length!==t.length)return!1;for(let r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function Nf(e,t){for(let r=0,i=e.length;r<i;r++)e[r]=t[r]}var Tn=0;function oo(e){Tn>100||(console.warn(e),Tn++,Tn>100&&console.warn("More than 100 program warnings - stopping logs."))}var bn=new tt,_f=1,Ze=class{constructor({canvas:t=document.createElement("canvas"),width:r=300,height:i=150,dpr:n=1,alpha:o=!1,depth:s=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:c=!1,powerPreference:u="default",autoClear:m=!0,webgl:h=2}={}){let p={alpha:o,depth:s,stencil:a,antialias:l,premultipliedAlpha:f,preserveDrawingBuffer:c,powerPreference:u};this.dpr=n,this.alpha=o,this.color=!0,this.depth=s,this.stencil=a,this.premultipliedAlpha=f,this.autoClear=m,this.id=_f++,h===2&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(r,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,r){this.width=t,this.height=r,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=r*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:r+"px"})}setViewport(t,r,i=0,n=0){this.state.viewport.width===t&&this.state.viewport.height===r||(this.state.viewport.width=t,this.state.viewport.height=r,this.state.viewport.x=i,this.state.viewport.y=n,this.gl.viewport(i,n,t,r))}setScissor(t,r,i=0,n=0){this.gl.scissor(i,n,t,r)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,r,i,n){this.state.blendFunc.src===t&&this.state.blendFunc.dst===r&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===n||(this.state.blendFunc.src=t,this.state.blendFunc.dst=r,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=n,i!==void 0?this.gl.blendFuncSeparate(t,r,i,n):this.gl.blendFunc(t,r))}setBlendEquation(t,r){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===r)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=r,r!==void 0?this.gl.blendEquationSeparate(t,r):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,r,i){this.state.stencilFunc===t&&this.state.stencilRef===r&&this.state.stencilFuncMask===i||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=r||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(t||this.gl.ALWAYS,r||0,i||0))}setStencilOp(t,r,i){this.state.stencilFail===t&&this.state.stencilDepthFail===r&&this.state.stencilDepthPass===i||(this.state.stencilFail=t,this.state.stencilDepthFail=r,this.state.stencilDepthPass=i,this.gl.stencilOp(t,r,i))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:r=null}={}){this.state.framebuffer!==r&&(this.state.framebuffer=r,this.gl.bindFramebuffer(t,r))}getExtension(t,r,i){return r&&this.gl[r]?this.gl[r].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),r?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.program.id!==r.program.id?t.program.id-r.program.id:t.zDepth!==r.zDepth?t.zDepth-r.zDepth:r.id-t.id}sortTransparent(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.zDepth!==r.zDepth?r.zDepth-t.zDepth:r.id-t.id}sortUI(t,r){return t.renderOrder!==r.renderOrder?t.renderOrder-r.renderOrder:t.program.id!==r.program.id?t.program.id-r.program.id:r.id-t.id}getRenderList({scene:t,camera:r,frustumCull:i,sort:n}){let o=[];if(r&&i&&r.updateFrustum(),t.traverse(s=>{if(!s.visible)return!0;s.draw&&(i&&s.frustumCulled&&r&&!r.frustumIntersectsMesh(s)||o.push(s))}),n){let s=[],a=[],l=[];o.forEach(f=>{f.program.transparent?f.program.depthTest?a.push(f):l.push(f):s.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!r)&&(f.worldMatrix.getTranslation(bn),bn.applyMatrix4(r.projectionViewMatrix),f.zDepth=bn.z)}),s.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),o=s.concat(a,l)}return o}render({scene:t,camera:r,target:i=null,update:n=!0,sort:o=!0,frustumCull:s=!0,clear:a}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),n&&t.updateMatrixWorld(),r&&r.updateMatrixWorld(),this.getRenderList({scene:t,camera:r,frustumCull:s,sort:o}).forEach(f=>{f.draw({camera:r})})}};function ao(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function lo(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function co(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=r*r+i*i+n*n+o*o;return s>0&&(s=1/Math.sqrt(s)),e[0]=r*s,e[1]=i*s,e[2]=n*s,e[3]=o*s,e}function fo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function uo(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function mo(e,t,r){r=r*.5;let i=Math.sin(r);return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=Math.cos(r),e}function Sn(e,t,r){let i=t[0],n=t[1],o=t[2],s=t[3],a=r[0],l=r[1],f=r[2],c=r[3];return e[0]=i*c+s*a+n*f-o*l,e[1]=n*c+s*l+o*a-i*f,e[2]=o*c+s*f+i*l-n*a,e[3]=s*c-i*a-n*l-o*f,e}function ho(e,t,r){r*=.5;let i=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=i*l+s*a,e[1]=n*l+o*a,e[2]=o*l-n*a,e[3]=s*l-i*a,e}function po(e,t,r){r*=.5;let i=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=i*l-o*a,e[1]=n*l+s*a,e[2]=o*l+i*a,e[3]=s*l-n*a,e}function go(e,t,r){r*=.5;let i=t[0],n=t[1],o=t[2],s=t[3],a=Math.sin(r),l=Math.cos(r);return e[0]=i*l+n*a,e[1]=n*l-i*a,e[2]=o*l+s*a,e[3]=s*l-o*a,e}function xo(e,t,r,i){let n=t[0],o=t[1],s=t[2],a=t[3],l=r[0],f=r[1],c=r[2],u=r[3],m,h,p,d,x;return h=n*l+o*f+s*c+a*u,h<0&&(h=-h,l=-l,f=-f,c=-c,u=-u),1-h>1e-6?(m=Math.acos(h),p=Math.sin(m),d=Math.sin((1-i)*m)/p,x=Math.sin(i*m)/p):(d=1-i,x=i),e[0]=d*n+x*l,e[1]=d*o+x*f,e[2]=d*s+x*c,e[3]=d*a+x*u,e}function yo(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=r*r+i*i+n*n+o*o,a=s?1/s:0;return e[0]=-r*a,e[1]=-i*a,e[2]=-n*a,e[3]=o*a,e}function vo(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function To(e,t){let r=t[0]+t[4]+t[8],i;if(r>0)i=Math.sqrt(r+1),e[3]=.5*i,i=.5/i,e[0]=(t[5]-t[7])*i,e[1]=(t[6]-t[2])*i,e[2]=(t[1]-t[3])*i;else{let n=0;t[4]>t[0]&&(n=1),t[8]>t[n*3+n]&&(n=2);let o=(n+1)%3,s=(n+2)%3;i=Math.sqrt(t[n*3+n]-t[o*3+o]-t[s*3+s]+1),e[n]=.5*i,i=.5/i,e[3]=(t[o*3+s]-t[s*3+o])*i,e[o]=(t[o*3+n]+t[n*3+o])*i,e[s]=(t[s*3+n]+t[n*3+s])*i}return e}function bo(e,t,r="YXZ"){let i=Math.sin(t[0]*.5),n=Math.cos(t[0]*.5),o=Math.sin(t[1]*.5),s=Math.cos(t[1]*.5),a=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return r==="XYZ"?(e[0]=i*s*l+n*o*a,e[1]=n*o*l-i*s*a,e[2]=n*s*a+i*o*l,e[3]=n*s*l-i*o*a):r==="YXZ"?(e[0]=i*s*l+n*o*a,e[1]=n*o*l-i*s*a,e[2]=n*s*a-i*o*l,e[3]=n*s*l+i*o*a):r==="ZXY"?(e[0]=i*s*l-n*o*a,e[1]=n*o*l+i*s*a,e[2]=n*s*a+i*o*l,e[3]=n*s*l-i*o*a):r==="ZYX"?(e[0]=i*s*l-n*o*a,e[1]=n*o*l+i*s*a,e[2]=n*s*a-i*o*l,e[3]=n*s*l+i*o*a):r==="YZX"?(e[0]=i*s*l+n*o*a,e[1]=n*o*l+i*s*a,e[2]=n*s*a-i*o*l,e[3]=n*s*l-i*o*a):r==="XZY"&&(e[0]=i*s*l-n*o*a,e[1]=n*o*l-i*s*a,e[2]=n*s*a+i*o*l,e[3]=n*s*l+i*o*a),e}var So=ao,Mo=lo;var wo=fo;var Ao=co;var jr=class extends Array{constructor(t=0,r=0,i=0,n=1){super(t,r,i,n),this.onChange=()=>{},this._target=this;let o=["0","1","2","3"];return new Proxy(this,{set(s,a){let l=Reflect.set(...arguments);return l&&o.includes(a)&&s.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return uo(this._target),this.onChange(),this}set(t,r,i,n){return t.length?this.copy(t):(Mo(this._target,t,r,i,n),this.onChange(),this)}rotateX(t){return ho(this._target,this._target,t),this.onChange(),this}rotateY(t){return po(this._target,this._target,t),this.onChange(),this}rotateZ(t){return go(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return yo(this._target,t),this.onChange(),this}conjugate(t=this._target){return vo(this._target,t),this.onChange(),this}copy(t){return So(this._target,t),this.onChange(),this}normalize(t=this._target){return Ao(this._target,t),this.onChange(),this}multiply(t,r){return r?Sn(this._target,t,r):Sn(this._target,this._target,t),this.onChange(),this}dot(t){return wo(this._target,t)}fromMatrix3(t){return To(this._target,t),this.onChange(),this}fromEuler(t,r){return bo(this._target,t,t.order),r||this.onChange(),this}fromAxisAngle(t,r){return mo(this._target,t,r),this.onChange(),this}slerp(t,r){return xo(this._target,this._target,t,r),this.onChange(),this}fromArray(t,r=0){return this._target[0]=t[r],this._target[1]=t[r+1],this._target[2]=t[r+2],this._target[3]=t[r+3],this.onChange(),this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t}};var Uf=1e-6;function Vo(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Po(e,t,r,i,n,o,s,a,l,f,c,u,m,h,p,d,x){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=f,e[9]=c,e[10]=u,e[11]=m,e[12]=h,e[13]=p,e[14]=d,e[15]=x,e}function Co(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Eo(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],f=t[7],c=t[8],u=t[9],m=t[10],h=t[11],p=t[12],d=t[13],x=t[14],g=t[15],T=r*a-i*s,y=r*l-n*s,b=r*f-o*s,v=i*l-n*a,S=i*f-o*a,V=n*f-o*l,M=c*d-u*p,A=c*x-m*p,P=c*g-h*p,R=u*x-m*d,L=u*g-h*d,I=m*g-h*x,C=T*I-y*L+b*R+v*P-S*A+V*M;return C?(C=1/C,e[0]=(a*I-l*L+f*R)*C,e[1]=(n*L-i*I-o*R)*C,e[2]=(d*V-x*S+g*v)*C,e[3]=(m*S-u*V-h*v)*C,e[4]=(l*P-s*I-f*A)*C,e[5]=(r*I-n*P+o*A)*C,e[6]=(x*b-p*V-g*y)*C,e[7]=(c*V-m*b+h*y)*C,e[8]=(s*L-a*P+f*M)*C,e[9]=(i*P-r*L-o*M)*C,e[10]=(p*S-d*b+g*T)*C,e[11]=(u*b-c*S-h*T)*C,e[12]=(a*A-s*R-l*M)*C,e[13]=(r*R-i*A+n*M)*C,e[14]=(d*y-p*v-x*T)*C,e[15]=(c*v-u*y+m*T)*C,e):null}function Mn(e){let t=e[0],r=e[1],i=e[2],n=e[3],o=e[4],s=e[5],a=e[6],l=e[7],f=e[8],c=e[9],u=e[10],m=e[11],h=e[12],p=e[13],d=e[14],x=e[15],g=t*s-r*o,T=t*a-i*o,y=t*l-n*o,b=r*a-i*s,v=r*l-n*s,S=i*l-n*a,V=f*p-c*h,M=f*d-u*h,A=f*x-m*h,P=c*d-u*p,R=c*x-m*p,L=u*x-m*d;return g*L-T*R+y*P+b*A-v*M+S*V}function wn(e,t,r){let i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],f=t[6],c=t[7],u=t[8],m=t[9],h=t[10],p=t[11],d=t[12],x=t[13],g=t[14],T=t[15],y=r[0],b=r[1],v=r[2],S=r[3];return e[0]=y*i+b*a+v*u+S*d,e[1]=y*n+b*l+v*m+S*x,e[2]=y*o+b*f+v*h+S*g,e[3]=y*s+b*c+v*p+S*T,y=r[4],b=r[5],v=r[6],S=r[7],e[4]=y*i+b*a+v*u+S*d,e[5]=y*n+b*l+v*m+S*x,e[6]=y*o+b*f+v*h+S*g,e[7]=y*s+b*c+v*p+S*T,y=r[8],b=r[9],v=r[10],S=r[11],e[8]=y*i+b*a+v*u+S*d,e[9]=y*n+b*l+v*m+S*x,e[10]=y*o+b*f+v*h+S*g,e[11]=y*s+b*c+v*p+S*T,y=r[12],b=r[13],v=r[14],S=r[15],e[12]=y*i+b*a+v*u+S*d,e[13]=y*n+b*l+v*m+S*x,e[14]=y*o+b*f+v*h+S*g,e[15]=y*s+b*c+v*p+S*T,e}function Do(e,t,r){let i=r[0],n=r[1],o=r[2],s,a,l,f,c,u,m,h,p,d,x,g;return t===e?(e[12]=t[0]*i+t[4]*n+t[8]*o+t[12],e[13]=t[1]*i+t[5]*n+t[9]*o+t[13],e[14]=t[2]*i+t[6]*n+t[10]*o+t[14],e[15]=t[3]*i+t[7]*n+t[11]*o+t[15]):(s=t[0],a=t[1],l=t[2],f=t[3],c=t[4],u=t[5],m=t[6],h=t[7],p=t[8],d=t[9],x=t[10],g=t[11],e[0]=s,e[1]=a,e[2]=l,e[3]=f,e[4]=c,e[5]=u,e[6]=m,e[7]=h,e[8]=p,e[9]=d,e[10]=x,e[11]=g,e[12]=s*i+c*n+p*o+t[12],e[13]=a*i+u*n+d*o+t[13],e[14]=l*i+m*n+x*o+t[14],e[15]=f*i+h*n+g*o+t[15]),e}function Fo(e,t,r){let i=r[0],n=r[1],o=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ro(e,t,r,i){let n=i[0],o=i[1],s=i[2],a=Math.hypot(n,o,s),l,f,c,u,m,h,p,d,x,g,T,y,b,v,S,V,M,A,P,R,L,I,C,Tt;return Math.abs(a)<Uf?null:(a=1/a,n*=a,o*=a,s*=a,l=Math.sin(r),f=Math.cos(r),c=1-f,u=t[0],m=t[1],h=t[2],p=t[3],d=t[4],x=t[5],g=t[6],T=t[7],y=t[8],b=t[9],v=t[10],S=t[11],V=n*n*c+f,M=o*n*c+s*l,A=s*n*c-o*l,P=n*o*c-s*l,R=o*o*c+f,L=s*o*c+n*l,I=n*s*c+o*l,C=o*s*c-n*l,Tt=s*s*c+f,e[0]=u*V+d*M+y*A,e[1]=m*V+x*M+b*A,e[2]=h*V+g*M+v*A,e[3]=p*V+T*M+S*A,e[4]=u*P+d*R+y*L,e[5]=m*P+x*R+b*L,e[6]=h*P+g*R+v*L,e[7]=p*P+T*R+S*L,e[8]=u*I+d*C+y*Tt,e[9]=m*I+x*C+b*Tt,e[10]=h*I+g*C+v*Tt,e[11]=p*I+T*C+S*Tt,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Lo(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function An(e,t){let r=t[0],i=t[1],n=t[2],o=t[4],s=t[5],a=t[6],l=t[8],f=t[9],c=t[10];return e[0]=Math.hypot(r,i,n),e[1]=Math.hypot(o,s,a),e[2]=Math.hypot(l,f,c),e}function Io(e){let t=e[0],r=e[1],i=e[2],n=e[4],o=e[5],s=e[6],a=e[8],l=e[9],f=e[10],c=t*t+r*r+i*i,u=n*n+o*o+s*s,m=a*a+l*l+f*f;return Math.sqrt(Math.max(c,u,m))}var Vn=function(){let e=[1,1,1];return function(t,r){let i=e;An(i,r);let n=1/i[0],o=1/i[1],s=1/i[2],a=r[0]*n,l=r[1]*o,f=r[2]*s,c=r[4]*n,u=r[5]*o,m=r[6]*s,h=r[8]*n,p=r[9]*o,d=r[10]*s,x=a+u+d,g=0;return x>0?(g=Math.sqrt(x+1)*2,t[3]=.25*g,t[0]=(m-p)/g,t[1]=(h-f)/g,t[2]=(l-c)/g):a>u&&a>d?(g=Math.sqrt(1+a-u-d)*2,t[3]=(m-p)/g,t[0]=.25*g,t[1]=(l+c)/g,t[2]=(h+f)/g):u>d?(g=Math.sqrt(1+u-a-d)*2,t[3]=(h-f)/g,t[0]=(l+c)/g,t[1]=.25*g,t[2]=(m+p)/g):(g=Math.sqrt(1+d-a-u)*2,t[3]=(l-c)/g,t[0]=(h+f)/g,t[1]=(m+p)/g,t[2]=.25*g),t}}();function Bo(e,t,r,i){let n=Yt([e[0],e[1],e[2]]),o=Yt([e[4],e[5],e[6]]),s=Yt([e[8],e[9],e[10]]);Mn(e)<0&&(n=-n),r[0]=e[12],r[1]=e[13],r[2]=e[14];let l=e.slice(),f=1/n,c=1/o,u=1/s;l[0]*=f,l[1]*=f,l[2]*=f,l[4]*=c,l[5]*=c,l[6]*=c,l[8]*=u,l[9]*=u,l[10]*=u,Vn(t,l),i[0]=n,i[1]=o,i[2]=s}function Oo(e,t,r,i){let n=e,o=t[0],s=t[1],a=t[2],l=t[3],f=o+o,c=s+s,u=a+a,m=o*f,h=o*c,p=o*u,d=s*c,x=s*u,g=a*u,T=l*f,y=l*c,b=l*u,v=i[0],S=i[1],V=i[2];return n[0]=(1-(d+g))*v,n[1]=(h+b)*v,n[2]=(p-y)*v,n[3]=0,n[4]=(h-b)*S,n[5]=(1-(m+g))*S,n[6]=(x+T)*S,n[7]=0,n[8]=(p+y)*V,n[9]=(x-T)*V,n[10]=(1-(m+d))*V,n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function ko(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=r+r,a=i+i,l=n+n,f=r*s,c=i*s,u=i*a,m=n*s,h=n*a,p=n*l,d=o*s,x=o*a,g=o*l;return e[0]=1-u-p,e[1]=c+g,e[2]=m-x,e[3]=0,e[4]=c-g,e[5]=1-f-p,e[6]=h+d,e[7]=0,e[8]=m+x,e[9]=h-d,e[10]=1-f-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function No(e,t,r,i,n){let o=1/Math.tan(t/2),s=1/(i-n);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(n+i)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*n*i*s,e[15]=0,e}function _o(e,t,r,i,n,o,s){let a=1/(t-r),l=1/(i-n),f=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*f,e[11]=0,e[12]=(t+r)*a,e[13]=(n+i)*l,e[14]=(s+o)*f,e[15]=1,e}function zo(e,t,r,i){let n=t[0],o=t[1],s=t[2],a=i[0],l=i[1],f=i[2],c=n-r[0],u=o-r[1],m=s-r[2],h=c*c+u*u+m*m;h===0?m=1:(h=1/Math.sqrt(h),c*=h,u*=h,m*=h);let p=l*m-f*u,d=f*c-a*m,x=a*u-l*c;return h=p*p+d*d+x*x,h===0&&(f?a+=1e-6:l?f+=1e-6:l+=1e-6,p=l*m-f*u,d=f*c-a*m,x=a*u-l*c,h=p*p+d*d+x*x),h=1/Math.sqrt(h),p*=h,d*=h,x*=h,e[0]=p,e[1]=d,e[2]=x,e[3]=0,e[4]=u*x-m*d,e[5]=m*p-c*x,e[6]=c*d-u*p,e[7]=0,e[8]=c,e[9]=u,e[10]=m,e[11]=0,e[12]=n,e[13]=o,e[14]=s,e[15]=1,e}function Pn(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Cn(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function jo(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}var At=class extends Array{constructor(t=1,r=0,i=0,n=0,o=0,s=1,a=0,l=0,f=0,c=0,u=1,m=0,h=0,p=0,d=0,x=1){return super(t,r,i,n,o,s,a,l,f,c,u,m,h,p,d,x),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,r,i,n,o,s,a,l,f,c,u,m,h,p,d,x){return t.length?this.copy(t):(Po(this,t,r,i,n,o,s,a,l,f,c,u,m,h,p,d,x),this)}translate(t,r=this){return Do(this,r,t),this}rotate(t,r,i=this){return Ro(this,i,t,r),this}scale(t,r=this){return Fo(this,r,typeof t=="number"?[t,t,t]:t),this}add(t,r){return r?Pn(this,t,r):Pn(this,this,t),this}sub(t,r){return r?Cn(this,t,r):Cn(this,this,t),this}multiply(t,r){return t.length?r?wn(this,t,r):wn(this,this,t):jo(this,this,t),this}identity(){return Co(this),this}copy(t){return Vo(this,t),this}fromPerspective({fov:t,aspect:r,near:i,far:n}={}){return No(this,t,r,i,n),this}fromOrthogonal({left:t,right:r,bottom:i,top:n,near:o,far:s}){return _o(this,t,r,i,n,o,s),this}fromQuaternion(t){return ko(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return Eo(this,t),this}compose(t,r,i){return Oo(this,t,r,i),this}decompose(t,r,i){return Bo(this,t,r,i),this}getRotation(t){return Vn(t,this),this}getTranslation(t){return Lo(t,this),this}getScaling(t){return An(t,this),this}getMaxScaleOnAxis(){return Io(this)}lookAt(t,r,i){return zo(this,t,r,i),this}determinant(){return Mn(this)}fromArray(t,r=0){return this[0]=t[r],this[1]=t[r+1],this[2]=t[r+2],this[3]=t[r+3],this[4]=t[r+4],this[5]=t[r+5],this[6]=t[r+6],this[7]=t[r+7],this[8]=t[r+8],this[9]=t[r+9],this[10]=t[r+10],this[11]=t[r+11],this[12]=t[r+12],this[13]=t[r+13],this[14]=t[r+14],this[15]=t[r+15],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t[r+3]=this[3],t[r+4]=this[4],t[r+5]=this[5],t[r+6]=this[6],t[r+7]=this[7],t[r+8]=this[8],t[r+9]=this[9],t[r+10]=this[10],t[r+11]=this[11],t[r+12]=this[12],t[r+13]=this[13],t[r+14]=this[14],t[r+15]=this[15],t}};function Uo(e,t,r="YXZ"){return r==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):r==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):r==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):r==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):r==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):r==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}var Go=new At,Ur=class extends Array{constructor(t=0,r=t,i=t,n="YXZ"){super(t,r,i),this.order=n,this.onChange=()=>{},this._target=this;let o=["0","1","2"];return new Proxy(this,{set(s,a){let l=Reflect.set(...arguments);return l&&o.includes(a)&&s.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,r=t,i=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=r,this._target[2]=i,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,r=this.order){return Uo(this._target,t,r),this.onChange(),this}fromQuaternion(t,r=this.order,i){return Go.fromQuaternion(t),this._target.fromRotationMatrix(Go,r),i||this.onChange(),this}fromArray(t,r=0){return this._target[0]=t[r],this._target[1]=t[r+1],this._target[2]=t[r+2],this}toArray(t=[],r=0){return t[r]=this[0],t[r+1]=this[1],t[r+2]=this[2],t}};var Gr=class{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new At,this.worldMatrix=new At,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new tt,this.quaternion=new jr,this.scale=new tt(1),this.rotation=new Ur,this.up=new tt(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,r=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,r&&t&&t.addChild(this,!1)}addChild(t,r=!0){~this.children.indexOf(t)||this.children.push(t),r&&t.setParent(this,!1)}removeChild(t,r=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),r&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let r=0,i=this.children.length;r<i;r++)this.children[r].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let r=0,i=this.children.length;r<i;r++)this.children[r].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,r=!1){r?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}};function Wo(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function Ko(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=r+r,a=i+i,l=n+n,f=r*s,c=i*s,u=i*a,m=n*s,h=n*a,p=n*l,d=o*s,x=o*a,g=o*l;return e[0]=1-u-p,e[3]=c-g,e[6]=m+x,e[1]=c+g,e[4]=1-f-p,e[7]=h-d,e[2]=m-x,e[5]=h+d,e[8]=1-f-u,e}function qo(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function $o(e,t,r,i,n,o,s,a,l,f){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=o,e[5]=s,e[6]=a,e[7]=l,e[8]=f,e}function Ho(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Xo(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],f=t[7],c=t[8],u=c*s-a*f,m=-c*o+a*l,h=f*o-s*l,p=r*u+i*m+n*h;return p?(p=1/p,e[0]=u*p,e[1]=(-c*i+n*f)*p,e[2]=(a*i-n*s)*p,e[3]=m*p,e[4]=(c*r-n*l)*p,e[5]=(-a*r+n*o)*p,e[6]=h*p,e[7]=(-f*r+i*l)*p,e[8]=(s*r-i*o)*p,e):null}function En(e,t,r){let i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],f=t[6],c=t[7],u=t[8],m=r[0],h=r[1],p=r[2],d=r[3],x=r[4],g=r[5],T=r[6],y=r[7],b=r[8];return e[0]=m*i+h*s+p*f,e[1]=m*n+h*a+p*c,e[2]=m*o+h*l+p*u,e[3]=d*i+x*s+g*f,e[4]=d*n+x*a+g*c,e[5]=d*o+x*l+g*u,e[6]=T*i+y*s+b*f,e[7]=T*n+y*a+b*c,e[8]=T*o+y*l+b*u,e}function Yo(e,t,r){let i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],f=t[6],c=t[7],u=t[8],m=r[0],h=r[1];return e[0]=i,e[1]=n,e[2]=o,e[3]=s,e[4]=a,e[5]=l,e[6]=m*i+h*s+f,e[7]=m*n+h*a+c,e[8]=m*o+h*l+u,e}function Zo(e,t,r){let i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],f=t[6],c=t[7],u=t[8],m=Math.sin(r),h=Math.cos(r);return e[0]=h*i+m*s,e[1]=h*n+m*a,e[2]=h*o+m*l,e[3]=h*s-m*i,e[4]=h*a-m*n,e[5]=h*l-m*o,e[6]=f,e[7]=c,e[8]=u,e}function Qo(e,t,r){let i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Jo(e,t){let r=t[0],i=t[1],n=t[2],o=t[3],s=t[4],a=t[5],l=t[6],f=t[7],c=t[8],u=t[9],m=t[10],h=t[11],p=t[12],d=t[13],x=t[14],g=t[15],T=r*a-i*s,y=r*l-n*s,b=r*f-o*s,v=i*l-n*a,S=i*f-o*a,V=n*f-o*l,M=c*d-u*p,A=c*x-m*p,P=c*g-h*p,R=u*x-m*d,L=u*g-h*d,I=m*g-h*x,C=T*I-y*L+b*R+v*P-S*A+V*M;return C?(C=1/C,e[0]=(a*I-l*L+f*R)*C,e[1]=(l*P-s*I-f*A)*C,e[2]=(s*L-a*P+f*M)*C,e[3]=(n*L-i*I-o*R)*C,e[4]=(r*I-n*P+o*A)*C,e[5]=(i*P-r*L-o*M)*C,e[6]=(d*V-x*S+g*v)*C,e[7]=(x*b-p*V-g*y)*C,e[8]=(p*S-d*b+g*T)*C,e):null}var Wr=class extends Array{constructor(t=1,r=0,i=0,n=0,o=1,s=0,a=0,l=0,f=1){return super(t,r,i,n,o,s,a,l,f),this}set(t,r,i,n,o,s,a,l,f){return t.length?this.copy(t):($o(this,t,r,i,n,o,s,a,l,f),this)}translate(t,r=this){return Yo(this,r,t),this}rotate(t,r=this){return Zo(this,r,t),this}scale(t,r=this){return Qo(this,r,t),this}multiply(t,r){return r?En(this,t,r):En(this,this,t),this}identity(){return Ho(this),this}copy(t){return qo(this,t),this}fromMatrix4(t){return Wo(this,t),this}fromQuaternion(t){return Ko(this,t),this}fromBasis(t,r,i){return this.set(t[0],t[1],t[2],r[0],r[1],r[2],i[0],i[1],i[2]),this}inverse(t=this){return Xo(this,t),this}getNormalMatrix(t){return Jo(this,t),this}};var qf=0,Qe=class extends Gr{constructor(t,{geometry:r,program:i,mode:n=t.TRIANGLES,frustumCulled:o=!0,renderOrder:s=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=qf++,this.geometry=r,this.program=i,this.mode=n,this.frustumCulled=o,this.renderOrder=s,this.modelViewMatrix=new At,this.normalMatrix=new Wr,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}));let r=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:r}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}};var Je=class extends zr{constructor(t,{attributes:r={}}={}){Object.assign(r,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,r)}};var ia=E(q(),1);function $f(){if(typeof window>"u")return null;let e=(He(),ge(mn)).gsap||(He(),ge(mn)).default,t=(Xe(),ge(hn)).default||(Xe(),ge(hn));return e.registerPlugin&&e.registerPlugin(t),e}var Hf="#edab7b",ta=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255]:[1,1,1]},ea=(e,t,r)=>{switch(e){case"top-left":return{anchor:[0,-.2*r],dir:[0,1]};case"top-right":return{anchor:[t,-.2*r],dir:[0,1]};case"left":return{anchor:[-.2*t,.5*r],dir:[1,0]};case"right":return{anchor:[(1+.2)*t,.5*r],dir:[-1,0]};case"bottom-left":return{anchor:[0,(1+.2)*r],dir:[0,-1]};case"bottom-center":return{anchor:[.5*t,(1+.2)*r],dir:[0,-1]};case"bottom-right":return{anchor:[t,(1+.2)*r],dir:[0,-1]};default:return{anchor:[.5*t,-.2*r],dir:[0,1]}}},Xf=({raysOrigin:e="top-center",raysColor:t=Hf,raysSpeed:r=1,lightSpread:i=1,rayLength:n=2,pulsating:o=!1,fadeDistance:s=1,saturation:a=1,followMouse:l=!0,mouseInfluence:f=.1,noiseAmount:c=0,distortion:u=0,className:m=""})=>{let h=(0,Y.useRef)(null),p=(0,Y.useRef)(null),d=(0,Y.useRef)(null),x=(0,Y.useRef)({x:.5,y:.5}),g=(0,Y.useRef)({x:.5,y:.5}),T=(0,Y.useRef)(null),y=(0,Y.useRef)(null),b=(0,Y.useRef)(null),[v,S]=(0,Y.useState)(!1),V=(0,Y.useRef)(null);return(0,Y.useEffect)(()=>{if(h.current)return V.current=new IntersectionObserver(M=>{let A=M[0];S(A.isIntersecting)},{threshold:.1}),V.current.observe(h.current),()=>{V.current&&(V.current.disconnect(),V.current=null)}},[]),(0,Y.useEffect)(()=>!v||!h.current?void 0:(b.current&&(b.current(),b.current=null),(async()=>{if(!h.current||(await new Promise(W=>setTimeout(W,10)),!h.current))return;let A=new Ze({dpr:Math.min(window.devicePixelRatio,2),alpha:!0});d.current=A;let P=A.gl;for(P.canvas.style.width="100%",P.canvas.style.height="100%",P.clearColor(.1,.1,.1,1),P.clear(P.COLOR_BUFFER_BIT);h.current.firstChild;)h.current.removeChild(h.current.firstChild);h.current.appendChild(P.canvas);let R=`
attribute vec2 position;
varying vec2 vUv;
void main() {
  vUv = position * 0.5 + 0.5;
  gl_Position = vec4(position, 0.0, 1.0);
}`,L=`precision highp float;

uniform float iTime;
uniform vec2  iResolution;

uniform vec2  rayPos;
uniform vec2  rayDir;
uniform vec3  raysColor;
uniform float raysSpeed;
uniform float lightSpread;
uniform float rayLength;
uniform float pulsating;
uniform float fadeDistance;
uniform float saturation;
uniform vec2  mousePos;
uniform float mouseInfluence;
uniform float noiseAmount;
uniform float distortion;

varying vec2 vUv;

float noise(vec2 st) {
  return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

float rayStrength(vec2 raySource, vec2 rayRefDirection, vec2 coord,
                  float seedA, float seedB, float speed) {
  vec2 sourceToCoord = coord - raySource;
  vec2 dirNorm = normalize(sourceToCoord);
  float cosAngle = dot(dirNorm, rayRefDirection);

  float distortedAngle = cosAngle + distortion * sin(iTime * 2.0 + length(sourceToCoord) * 0.01) * 0.2;
  
  float spreadFactor = pow(max(distortedAngle, 0.0), 1.0 / max(lightSpread, 0.001));

  float distance = length(sourceToCoord);
  float maxDistance = iResolution.x * rayLength;
  float lengthFalloff = clamp((maxDistance - distance) / maxDistance, 0.0, 1.0);
  
  float fadeFalloff = clamp((iResolution.x * fadeDistance - distance) / (iResolution.x * fadeDistance), 0.5, 1.0);
  float pulse = pulsating > 0.5 ? (0.8 + 0.2 * sin(iTime * speed * 3.0)) : 1.0;

  float baseStrength = clamp(
    (0.45 + 0.15 * sin(distortedAngle * seedA + iTime * speed)) +
    (0.3 + 0.2 * cos(-distortedAngle * seedB + iTime * speed)),
    0.0, 1.0
  );

  return baseStrength * lengthFalloff * fadeFalloff * spreadFactor * pulse;
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
  vec2 coord = vec2(fragCoord.x, iResolution.y - fragCoord.y);
  
  vec2 finalRayDir = rayDir;
  if (mouseInfluence > 0.0) {
    vec2 mouseScreenPos = mousePos * iResolution.xy;
    vec2 mouseDirection = normalize(mouseScreenPos - rayPos);
    finalRayDir = normalize(mix(rayDir, mouseDirection, mouseInfluence));
  }

  vec4 rays1 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 36.2214, 21.11349,
                           1.5 * raysSpeed);
  vec4 rays2 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 22.3991, 18.0234,
                           1.1 * raysSpeed);

  fragColor = rays1 * 0.5 + rays2 * 0.4;

  if (noiseAmount > 0.0) {
    float n = noise(coord * 0.01 + iTime * 0.1);
    fragColor.rgb *= (1.0 - noiseAmount + noiseAmount * n);
  }

  float brightness = 1.0 - (coord.y / iResolution.y);
  fragColor.x *= 0.1 + brightness * 0.8;
  fragColor.y *= 0.3 + brightness * 0.6;
  fragColor.z *= 0.5 + brightness * 0.5;

  if (saturation != 1.0) {
    float gray = dot(fragColor.rgb, vec3(0.299, 0.587, 0.114));
    fragColor.rgb = mix(vec3(gray), fragColor.rgb, saturation);
  }

  fragColor.rgb *= raysColor;
}

void main() {
  vec4 color;
  mainImage(color, gl_FragCoord.xy);
  gl_FragColor  = color;
}`,I={iTime:{value:0},iResolution:{value:[1,1]},rayPos:{value:[0,0]},rayDir:{value:[0,1]},raysColor:{value:ta(t)},raysSpeed:{value:r},lightSpread:{value:i},rayLength:{value:n},pulsating:{value:o?1:0},fadeDistance:{value:s},saturation:{value:a},mousePos:{value:[.5,.5]},mouseInfluence:{value:f},noiseAmount:{value:c},distortion:{value:u}};p.current=I;let C=new Je(P),Tt=new Ye(P,{vertex:R,fragment:L,uniforms:I}),un=new Qe(P,{geometry:C,program:Tt});y.current=un;let G=()=>{if(!h.current||!A)return;A.dpr=Math.min(window.devicePixelRatio,2);let{clientWidth:W,clientHeight:st}=h.current;A.setSize(W,st);let Br=A.dpr,Os=W*Br,ks=st*Br;I.iResolution.value=[Os,ks];let{anchor:Df,dir:Ff}=ea(e,Os,ks);I.rayPos.value=Df,I.rayDir.value=Ff},nt=W=>{if(!(!d.current||!p.current||!y.current)){I.iTime.value=W*.001,l&&f>0&&(g.current.x=g.current.x*.92+x.current.x*(1-.92),g.current.y=g.current.y*.92+x.current.y*(1-.92),I.mousePos.value=[g.current.x,g.current.y]);try{A.render({scene:un}),T.current=requestAnimationFrame(nt)}catch(st){console.warn("WebGL rendering error:",st);return}}};window.addEventListener("resize",G),G(),T.current=requestAnimationFrame(nt),b.current=()=>{if(T.current&&(cancelAnimationFrame(T.current),T.current=null),window.removeEventListener("resize",G),A)try{let W=A.gl.canvas,st=A.gl.getExtension("WEBGL_lose_context");st&&st.loseContext(),W&&W.parentNode&&W.parentNode.removeChild(W)}catch(W){console.warn("Error during WebGL cleanup:",W)}d.current=null,p.current=null,y.current=null}})(),()=>{b.current&&(b.current(),b.current=null)}),[v,e,t,r,i,n,o,s,a,l,f,c,u]),(0,Y.useEffect)(()=>{if(!p.current||!h.current||!d.current)return;let M=p.current,A=d.current;M.raysColor.value=ta(t),M.raysSpeed.value=r,M.lightSpread.value=i,M.rayLength.value=n,M.pulsating.value=o?1:0,M.fadeDistance.value=s,M.saturation.value=a,M.mouseInfluence.value=f,M.noiseAmount.value=c,M.distortion.value=u;let{clientWidth:P,clientHeight:R}=h.current,L=A.dpr,{anchor:I,dir:C}=ea(e,P*L,R*L);M.rayPos.value=I,M.rayDir.value=C},[t,r,i,e,n,o,s,a,f,c,u]),(0,Y.useEffect)(()=>{$f()},[]),(0,Y.useEffect)(()=>{let M=A=>{if(!h.current||!d.current)return;let P=h.current.getBoundingClientRect(),R=(A.clientX-P.left)/P.width,L=(A.clientY-P.top)/P.height;x.current={x:R,y:L}};if(l)return window.addEventListener("mousemove",M),()=>window.removeEventListener("mousemove",M)},[l]),(0,ia.jsx)("div",{ref:h,className:`w-full h-full pointer-events-none overflow-visible absolute ${m}`.trim()})},ra=Xf;var Kr=E(O(),1),na=E(q(),1);function Dn(){let e=(0,Kr.useRef)(null);return(0,Kr.useEffect)(()=>{typeof window>"u"||(async()=>{let t=await import("/build/_shared/gsap-HHXVPP4I.js"),r=await import("/build/_shared/ScrollTrigger-SNMQBOH5.js"),i=t.default,n=r.default;i.registerPlugin(n),e.current&&i.to(e.current,{opacity:1,duration:1,scrollTrigger:{trigger:e.current,start:"top 80%"}})})()},[]),(0,na.jsx)("div",{ref:e,style:{opacity:0},children:"\xA1Hola animado!"})}var sa=E(O(),1),qr=(0,sa.createContext)({});var oa=E(O(),1);function aa(e){let t=(0,oa.useRef)(null);return t.current===null&&(t.current=e()),t.current}var $r=E(O(),1);var ve=typeof window<"u";var la=ve?$r.useLayoutEffect:$r.useEffect;var ca=E(O(),1),Te=(0,ca.createContext)(null);function Zt(e,t){e.indexOf(t)===-1&&e.push(t)}function Qt(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}var Z=(e,t,r)=>r>t?t:r<e?e:r;var Vt=()=>{},ht=()=>{};var et={};var tr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function er(e){return typeof e=="object"&&e!==null}var rr=e=>/^0[^.\s]+$/u.test(e);function Jt(e){let t;return()=>(t===void 0&&(t=e()),t)}var z=e=>e;var Yf=(e,t)=>r=>t(e(r)),gt=(...e)=>e.reduce(Yf);var bt=(e,t,r)=>{let i=t-e;return i===0?1:(r-e)/i};var Pt=class{constructor(){this.subscriptions=[]}add(t){return Zt(this.subscriptions,t),()=>Qt(this.subscriptions,t)}notify(t,r,i){let n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,r,i);else for(let o=0;o<n;o++){let s=this.subscriptions[o];s&&s(t,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};var $=e=>e*1e3,H=e=>e/1e3;function ir(e,t){return t?e*(1e3/t):0}var fa=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Zf=1e-7,Qf=12;function Jf(e,t,r,i,n){let o,s,a=0;do s=t+(r-t)/2,o=fa(s,i,n)-e,o>0?r=s:t=s;while(Math.abs(o)>Zf&&++a<Qf);return s}function _t(e,t,r,i){if(e===t&&r===i)return z;let n=o=>Jf(o,0,1,e,r);return o=>o===0||o===1?o:fa(n(o),t,i)}var Hr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2;var Xr=e=>t=>1-e(1-t);var Yr=_t(.33,1.53,.69,.99),be=Xr(Yr),nr=Hr(be);var sr=e=>(e*=2)<1?.5*be(e):.5*(2-Math.pow(2,-10*(e-1)));var or=e=>1-Math.sin(Math.acos(e)),ar=Xr(or),lr=Hr(or);var Fn=_t(.42,0,1,1),Rn=_t(0,0,.58,1),cr=_t(.42,0,.58,1);var Ln=e=>Array.isArray(e)&&typeof e[0]!="number";var fr=e=>Array.isArray(e)&&typeof e[0]=="number";var ua={linear:z,easeIn:Fn,easeInOut:cr,easeOut:Rn,circIn:or,circInOut:lr,circOut:ar,backIn:be,backInOut:nr,backOut:Yr,anticipate:sr},tu=e=>typeof e=="string",Zr=e=>{if(fr(e)){ht(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,i,n]=e;return _t(t,r,i,n)}else if(tu(e))return ht(ua[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),ua[e];return e};var ur=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];var ot={value:null,addProjectionMetrics:null};function ma(e,t){let r=new Set,i=new Set,n=!1,o=!1,s=new WeakSet,a={delta:0,timestamp:0,isProcessing:!1},l=0;function f(u){s.has(u)&&(c.schedule(u),e()),l++,u(a)}let c={schedule:(u,m=!1,h=!1)=>{let d=h&&n?r:i;return m&&s.add(u),d.has(u)||d.add(u),u},cancel:u=>{i.delete(u),s.delete(u)},process:u=>{if(a=u,n){o=!0;return}n=!0,[r,i]=[i,r],r.forEach(f),t&&ot.value&&ot.value.frameloop[t].push(l),l=0,r.clear(),n=!1,o&&(o=!1,c.process(u))}};return c}var eu=40;function Qr(e,t){let r=!1,i=!0,n={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,s=ur.reduce((y,b)=>(y[b]=ma(o,t?b:void 0),y),{}),{setup:a,read:l,resolveKeyframes:f,preUpdate:c,update:u,preRender:m,render:h,postRender:p}=s,d=()=>{let y=et.useManualTiming?n.timestamp:performance.now();r=!1,et.useManualTiming||(n.delta=i?1e3/60:Math.max(Math.min(y-n.timestamp,eu),1)),n.timestamp=y,n.isProcessing=!0,a.process(n),l.process(n),f.process(n),c.process(n),u.process(n),m.process(n),h.process(n),p.process(n),n.isProcessing=!1,r&&t&&(i=!1,e(d))},x=()=>{r=!0,i=!0,n.isProcessing||e(d)};return{schedule:ur.reduce((y,b)=>{let v=s[b];return y[b]=(S,V=!1,M=!1)=>(r||x(),v.schedule(S,V,M)),y},{}),cancel:y=>{for(let b=0;b<ur.length;b++)s[ur[b]].cancel(y)},state:n,steps:s}}var{schedule:D,cancel:at,state:j,steps:mr}=Qr(typeof requestAnimationFrame<"u"?requestAnimationFrame:z,!0);var Jr;function ru(){Jr=void 0}var U={now:()=>(Jr===void 0&&U.set(j.isProcessing||et.useManualTiming?j.timestamp:performance.now()),Jr),set:e=>{Jr=e,queueMicrotask(ru)}};var xt={layout:0,mainThread:0,waapi:0};var ha=e=>t=>typeof t=="string"&&t.startsWith(e),te=ha("--"),iu=ha("var(--"),ee=e=>iu(e)?nu.test(e.split("/*")[0].trim()):!1,nu=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var St={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ct={...St,transform:e=>Z(0,1,e)},hr={...St,default:1};var zt=e=>Math.round(e*1e5)/1e5;var Se=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pa(e){return e==null}var da=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var Me=(e,t)=>r=>Boolean(typeof r=="string"&&da.test(r)&&r.startsWith(e)||t&&!pa(r)&&Object.prototype.hasOwnProperty.call(r,t)),ti=(e,t,r)=>i=>{if(typeof i!="string")return i;let[n,o,s,a]=i.match(Se);return{[e]:parseFloat(n),[t]:parseFloat(o),[r]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}};var su=e=>Z(0,255,e),In={...St,transform:e=>Math.round(su(e))},Mt={test:Me("rgb","red"),parse:ti("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+In.transform(e)+", "+In.transform(t)+", "+In.transform(r)+", "+zt(Ct.transform(i))+")"};function ou(e){let t="",r="",i="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,i+=i,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:n?parseInt(n,16)/255:1}}var pr={test:Me("#"),parse:ou,transform:Mt.transform};var dr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yt=dr("deg"),rt=dr("%"),w=dr("px"),Bn=dr("vh"),On=dr("vw"),ei=(()=>({...rt,parse:e=>rt.parse(e)/100,transform:e=>rt.transform(e*100)}))();var jt={test:Me("hsl","hue"),parse:ti("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+rt.transform(zt(t))+", "+rt.transform(zt(r))+", "+zt(Ct.transform(i))+")"};var _={test:e=>Mt.test(e)||pr.test(e)||jt.test(e),parse:e=>Mt.test(e)?Mt.parse(e):jt.test(e)?jt.parse(e):pr.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Mt.transform(e):jt.transform(e),getAnimatableNone:e=>{let t=_.parse(e);return t.alpha=0,_.transform(t)}};var ga=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function au(e){return isNaN(e)&&typeof e=="string"&&(e.match(Se)?.length||0)+(e.match(ga)?.length||0)>0}var ya="number",va="color",lu="var",cu="var(",xa="${}",fu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ut(e){let t=e.toString(),r=[],i={color:[],number:[],var:[]},n=[],o=0,a=t.replace(fu,l=>(_.test(l)?(i.color.push(o),n.push(va),r.push(_.parse(l))):l.startsWith(cu)?(i.var.push(o),n.push(lu),r.push(l)):(i.number.push(o),n.push(ya),r.push(parseFloat(l))),++o,xa)).split(xa);return{values:r,split:a,indexes:i,types:n}}function Ta(e){return Ut(e).values}function ba(e){let{split:t,types:r}=Ut(e),i=t.length;return n=>{let o="";for(let s=0;s<i;s++)if(o+=t[s],n[s]!==void 0){let a=r[s];a===ya?o+=zt(n[s]):a===va?o+=_.transform(n[s]):o+=n[s]}return o}}var uu=e=>typeof e=="number"?0:_.test(e)?_.getAnimatableNone(e):e;function mu(e){let t=Ta(e);return ba(e)(t.map(uu))}var it={test:au,parse:Ta,createTransformer:ba,getAnimatableNone:mu};function kn(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Sa({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,t/=100,r/=100;let n=0,o=0,s=0;if(!t)n=o=s=r;else{let a=r<.5?r*(1+t):r+t-r*t,l=2*r-a;n=kn(l,a,e+1/3),o=kn(l,a,e),s=kn(l,a,e-1/3)}return{red:Math.round(n*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:i}}function we(e,t){return r=>r>0?t:e}var F=(e,t,r)=>e+(t-e)*r;var Nn=(e,t,r)=>{let i=e*e,n=r*(t*t-i)+i;return n<0?0:Math.sqrt(n)},hu=[pr,Mt,jt],pu=e=>hu.find(t=>t.test(e));function Ma(e){let t=pu(e);if(Vt(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!Boolean(t))return!1;let r=t.parse(e);return t===jt&&(r=Sa(r)),r}var _n=(e,t)=>{let r=Ma(e),i=Ma(t);if(!r||!i)return we(e,t);let n={...r};return o=>(n.red=Nn(r.red,i.red,o),n.green=Nn(r.green,i.green,o),n.blue=Nn(r.blue,i.blue,o),n.alpha=F(r.alpha,i.alpha,o),Mt.transform(n))};var ri=new Set(["none","hidden"]);function wa(e,t){return ri.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function du(e,t){return r=>F(e,t,r)}function ii(e){return typeof e=="number"?du:typeof e=="string"?ee(e)?we:_.test(e)?_n:yu:Array.isArray(e)?Aa:typeof e=="object"?_.test(e)?_n:gu:we}function Aa(e,t){let r=[...e],i=r.length,n=e.map((o,s)=>ii(o)(o,t[s]));return o=>{for(let s=0;s<i;s++)r[s]=n[s](o);return r}}function gu(e,t){let r={...e,...t},i={};for(let n in r)e[n]!==void 0&&t[n]!==void 0&&(i[n]=ii(e[n])(e[n],t[n]));return n=>{for(let o in i)r[o]=i[o](n);return r}}function xu(e,t){let r=[],i={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){let o=t.types[n],s=e.indexes[o][i[o]],a=e.values[s]??0;r[n]=a,i[o]++}return r}var yu=(e,t)=>{let r=it.createTransformer(t),i=Ut(e),n=Ut(t);return i.indexes.var.length===n.indexes.var.length&&i.indexes.color.length===n.indexes.color.length&&i.indexes.number.length>=n.indexes.number.length?ri.has(e)&&!n.values.length||ri.has(t)&&!i.values.length?wa(e,t):gt(Aa(xu(i,n),n.values),r):(Vt(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),we(e,t))};function ni(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?F(e,t,r):ii(e)(e,t)}var Va=e=>{let t=({timestamp:r})=>e(r);return{start:(r=!0)=>D.update(t,r),stop:()=>at(t),now:()=>j.isProcessing?j.timestamp:U.now()}};var si=(e,t,r=10)=>{let i="",n=Math.max(Math.round(t/r),2);for(let o=0;o<n;o++)i+=Math.round(e(o/(n-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`};function Ae(e){let t=0,r=50,i=e.next(t);for(;!i.done&&t<2e4;)t+=r,i=e.next(t);return t>=2e4?1/0:t}function Pa(e,t=100,r){let i=r({...e,keyframes:[0,t]}),n=Math.min(Ae(i),2e4);return{type:"keyframes",ease:o=>i.next(n*o).value/t,duration:H(n)}}var vu=5;function oi(e,t,r){let i=Math.max(t-vu,0);return ir(r-e(i),t-i)}var k={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};var jn=.001;function Ca({duration:e=k.duration,bounce:t=k.bounce,velocity:r=k.velocity,mass:i=k.mass}){let n,o;Vt(e<=$(k.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-t;s=Z(k.minDamping,k.maxDamping,s),e=Z(k.minDuration,k.maxDuration,H(e)),s<1?(n=f=>{let c=f*s,u=c*e,m=c-r,h=ai(f,s),p=Math.exp(-u);return jn-m/h*p},o=f=>{let u=f*s*e,m=u*r+r,h=Math.pow(s,2)*Math.pow(f,2)*e,p=Math.exp(-u),d=ai(Math.pow(f,2),s);return(-n(f)+jn>0?-1:1)*((m-h)*p)/d}):(n=f=>{let c=Math.exp(-f*e),u=(f-r)*e+1;return-jn+c*u},o=f=>{let c=Math.exp(-f*e),u=(r-f)*(e*e);return c*u});let a=5/e,l=bu(n,o,a);if(e=$(e),isNaN(l))return{stiffness:k.stiffness,damping:k.damping,duration:e};{let f=Math.pow(l,2)*i;return{stiffness:f,damping:s*2*Math.sqrt(i*f),duration:e}}}var Tu=12;function bu(e,t,r){let i=r;for(let n=1;n<Tu;n++)i=i-e(i)/t(i);return i}function ai(e,t){return e*Math.sqrt(1-t*t)}var Su=["duration","bounce"],Mu=["stiffness","damping","mass"];function Ea(e,t){return t.some(r=>e[r]!==void 0)}function wu(e){let t={velocity:k.velocity,stiffness:k.stiffness,damping:k.damping,mass:k.mass,isResolvedFromDuration:!1,...e};if(!Ea(e,Mu)&&Ea(e,Su))if(e.visualDuration){let r=e.visualDuration,i=2*Math.PI/(r*1.2),n=i*i,o=2*Z(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:k.mass,stiffness:n,damping:o}}else{let r=Ca(e);t={...t,...r,mass:k.mass},t.isResolvedFromDuration=!0}return t}function Ve(e=k.visualDuration,t=k.bounce){let r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:n}=r,o=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:f,mass:c,duration:u,velocity:m,isResolvedFromDuration:h}=wu({...r,velocity:-H(r.velocity||0)}),p=m||0,d=f/(2*Math.sqrt(l*c)),x=s-o,g=H(Math.sqrt(l/c)),T=Math.abs(x)<5;i||(i=T?k.restSpeed.granular:k.restSpeed.default),n||(n=T?k.restDelta.granular:k.restDelta.default);let y;if(d<1){let v=ai(g,d);y=S=>{let V=Math.exp(-d*g*S);return s-V*((p+d*g*x)/v*Math.sin(v*S)+x*Math.cos(v*S))}}else if(d===1)y=v=>s-Math.exp(-g*v)*(x+(p+g*x)*v);else{let v=g*Math.sqrt(d*d-1);y=S=>{let V=Math.exp(-d*g*S),M=Math.min(v*S,300);return s-V*((p+d*g*x)*Math.sinh(M)+v*x*Math.cosh(M))/v}}let b={calculatedDuration:h&&u||null,next:v=>{let S=y(v);if(h)a.done=v>=u;else{let V=v===0?p:0;d<1&&(V=v===0?$(p):oi(y,v,S));let M=Math.abs(V)<=i,A=Math.abs(s-S)<=n;a.done=M&&A}return a.value=a.done?s:S,a},toString:()=>{let v=Math.min(Ae(b),2e4),S=si(V=>b.next(v*V).value,v,30);return v+"ms "+S},toTransition:()=>{}};return b}Ve.applyToOptions=e=>{let t=Pa(e,100,Ve);return e.ease=t.ease,e.duration=$(t.duration),e.type="keyframes",e};function gr({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:n=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:f=.5,restSpeed:c}){let u=e[0],m={done:!1,value:u},h=M=>a!==void 0&&M<a||l!==void 0&&M>l,p=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l,d=r*t,x=u+d,g=s===void 0?x:s(x);g!==x&&(d=g-u);let T=M=>-d*Math.exp(-M/i),y=M=>g+T(M),b=M=>{let A=T(M),P=y(M);m.done=Math.abs(A)<=f,m.value=m.done?g:P},v,S,V=M=>{h(m.value)&&(v=M,S=Ve({keyframes:[m.value,p(m.value)],velocity:oi(y,M,m.value),damping:n,stiffness:o,restDelta:f,restSpeed:c}))};return V(0),{calculatedDuration:null,next:M=>{let A=!1;return!S&&v===void 0&&(A=!0,b(M),V(M)),v!==void 0&&M>=v?S.next(M-v):(!A&&b(M),m)}}}function Au(e,t,r){let i=[],n=r||et.mix||ni,o=e.length-1;for(let s=0;s<o;s++){let a=n(e[s],e[s+1]);if(t){let l=Array.isArray(t)?t[s]||z:t;a=gt(l,a)}i.push(a)}return i}function Da(e,t,{clamp:r=!0,ease:i,mixer:n}={}){let o=e.length;if(ht(o===t.length,"Both input and output ranges must be the same length","range-length"),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=Au(t,i,n),l=a.length,f=c=>{if(s&&c<e[0])return t[0];let u=0;if(l>1)for(;u<e.length-2&&!(c<e[u+1]);u++);let m=bt(e[u],e[u+1],c);return a[u](m)};return r?c=>f(Z(e[0],e[o-1],c)):f}function Fa(e,t){let r=e[e.length-1];for(let i=1;i<=t;i++){let n=bt(0,t,i);e.push(F(r,1,n))}}function Ra(e){let t=[0];return Fa(t,e.length-1),t}function La(e,t){return e.map(r=>r*t)}function Vu(e,t){return e.map(()=>t||cr).splice(0,e.length-1)}function re({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){let n=Ln(i)?i.map(Zr):Zr(i),o={done:!1,value:t[0]},s=La(r&&r.length===t.length?r:Ra(t),e),a=Da(s,t,{ease:Array.isArray(n)?n:Vu(t,n)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}var Pu=e=>e!==null;function Pe(e,{repeat:t,repeatType:r="loop"},i,n=1){let o=e.filter(Pu),a=n<0||t&&r!=="loop"&&t%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}var Cu={decay:gr,inertia:gr,tween:re,keyframes:re,spring:Ve};function li(e){typeof e.type=="string"&&(e.type=Cu[e.type])}var Gt=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}};var Eu=e=>e/100,Et=class extends Gt{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:r}=this.options;r&&r.updatedAt!==U.now()&&this.tick(U.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},xt.mainThread++,this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){let{options:t}=this;li(t);let{type:r=re,repeat:i=0,repeatDelay:n=0,repeatType:o,velocity:s=0}=t,{keyframes:a}=t,l=r||re;l!==re&&typeof a[0]!="number"&&(this.mixKeyframes=gt(Eu,ni(a[0],a[1])),a=[0,100]);let f=l({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=Ae(f));let{calculatedDuration:c}=f;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(i+1)-n,this.generator=f}updateTime(t){let r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){let{generator:i,totalDuration:n,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);let{delay:f=0,keyframes:c,repeat:u,repeatType:m,repeatDelay:h,type:p,onUpdate:d,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);let g=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?g<0:g>n;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let y=this.currentTime,b=i;if(u){let M=Math.min(this.currentTime,n)/a,A=Math.floor(M),P=M%1;!P&&M>=1&&(P=1),P===1&&A--,A=Math.min(A,u+1),Boolean(A%2)&&(m==="reverse"?(P=1-P,h&&(P-=h/a)):m==="mirror"&&(b=s)),y=Z(0,1,P)*a}let v=T?{done:!1,value:c[0]}:b.next(y);o&&(v.value=o(v.value));let{done:S}=v;!T&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);let V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return V&&p!==gr&&(v.value=Pe(c,this.options,x,this.speed)),d&&d(v.value),V&&this.finish(),v}then(t,r){return this.finished.then(t,r)}get duration(){return H(this.calculatedDuration)}get iterationDuration(){let{delay:t=0}=this.options||{};return this.duration+H(t)}get time(){return H(this.currentTime)}set time(t){t=$(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(U.now());let r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=H(this.currentTime))}play(){if(this.isStopped)return;let{driver:t=Va,startTime:r}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),this.options.onPlay?.();let i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(U.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,xt.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}};function Ia(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}var ie=e=>e*180/Math.PI,Un=e=>{let t=ie(Math.atan2(e[1],e[0]));return Gn(t)},Du={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Un,rotateZ:Un,skewX:e=>ie(Math.atan(e[1])),skewY:e=>ie(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gn=e=>(e=e%360,e<0&&(e+=360),e),Ba=Un,Oa=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ka=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Fu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Oa,scaleY:ka,scale:e=>(Oa(e)+ka(e))/2,rotateX:e=>Gn(ie(Math.atan2(e[6],e[5]))),rotateY:e=>Gn(ie(Math.atan2(-e[2],e[0]))),rotateZ:Ba,rotate:Ba,skewX:e=>ie(Math.atan(e[4])),skewY:e=>ie(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xr(e){return e.includes("scale")?1:0}function yr(e,t){if(!e||e==="none")return xr(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),i,n;if(r)i=Fu,n=r;else{let a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Du,n=a}if(!n)return xr(t);let o=i[t],s=n[1].split(",").map(Ru);return typeof o=="function"?o(s):s[o]}var Wn=(e,t)=>{let{transform:r="none"}=getComputedStyle(e);return yr(r,t)};function Ru(e){return parseFloat(e.trim())}var vt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ft=(()=>new Set(vt))();var Kn=e=>e===St||e===w,Lu=new Set(["x","y","z"]),Iu=vt.filter(e=>!Lu.has(e));function Na(e){let t=[];return Iu.forEach(r=>{let i=e.getValue(r);i!==void 0&&(t.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),t}var Wt={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yr(t,"x"),y:(e,{transform:t})=>yr(t,"y")};Wt.translateX=Wt.x;Wt.translateY=Wt.y;var ne=new Set,qn=!1,$n=!1,Hn=!1;function _a(){if($n){let e=Array.from(ne).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),r=new Map;t.forEach(i=>{let n=Na(i);n.length&&(r.set(i,n),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();let n=r.get(i);n&&n.forEach(([o,s])=>{i.getValue(o)?.set(s)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$n=!1,qn=!1,ne.forEach(e=>e.complete(Hn)),ne.clear()}function za(){ne.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($n=!0)})}function Xn(){Hn=!0,za(),_a(),Hn=!1}var Dt=class{constructor(t,r,i,n,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=i,this.motionValue=n,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(ne.add(this),qn||(qn=!0,D.read(za),D.resolveKeyframes(_a))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:t,name:r,element:i,motionValue:n}=this;if(t[0]===null){let o=n?.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&r){let a=i.readValue(r,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),n&&o===void 0&&n.set(t[0])}Ia(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ne.delete(this)}cancel(){this.state==="scheduled"&&(ne.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};var ja=e=>e.startsWith("--");function Ua(e,t,r){ja(t)?e.style.setProperty(t,r):e.style[t]=r}var Ga=Jt(()=>window.ScrollTimeline!==void 0);var Wa={};function Ka(e,t){let r=Jt(e);return()=>Wa[t]??r()}var ci=Ka(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");var se=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`;var Yn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:se([0,.65,.55,1]),circOut:se([.55,0,1,.45]),backIn:se([.31,.01,.66,-.59]),backOut:se([.33,1.53,.69,.99])};function Zn(e,t){if(e)return typeof e=="function"?ci()?si(e,t):"ease-out":fr(e)?se(e):Array.isArray(e)?e.map(r=>Zn(r,t)||Yn.easeOut):Yn[e]}function qa(e,t,r,{delay:i=0,duration:n=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},f=void 0){let c={[t]:r};l&&(c.offset=l);let u=Zn(a,n);Array.isArray(u)&&(c.easing=u),ot.value&&xt.waapi++;let m={delay:i,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};f&&(m.pseudoElement=f);let h=e.animate(c,m);return ot.value&&h.finished.finally(()=>{xt.waapi--}),h}function fi(e){return typeof e=="function"&&"applyToOptions"in e}function $a({type:e,...t}){return fi(e)&&ci()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}var ui=class extends Gt{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;let{element:r,name:i,keyframes:n,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=Boolean(o),this.allowFlatten=s,this.options=t,ht(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");let f=$a(t);this.animation=qa(r,i,n,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){let c=Pe(n,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Ua(r,i,c),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let t=this.animation.effect?.getComputedTiming?.().duration||0;return H(Number(t))}get iterationDuration(){let{delay:t=0}=this.options||{};return this.duration+H(t)}get time(){return H(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Ga()?(this.animation.timeline=t,z):r(this)}};var Ha={anticipate:sr,backInOut:nr,circInOut:lr};function Bu(e){return e in Ha}function Xa(e){typeof e.ease=="string"&&Bu(e.ease)&&(e.ease=Ha[e.ease])}var Ya=10,mi=class extends ui{constructor(t){Xa(t),li(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){let{motionValue:r,onUpdate:i,onComplete:n,element:o,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}let a=new Et({...s,autoplay:!1}),l=$(this.finishedTime??this.time);r.setWithVelocity(a.sample(l-Ya).value,a.sample(l).value,Ya),a.stop()}};var Qn=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(it.test(e)||e==="0")&&!e.startsWith("url("));function Ou(e){let t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Za(e,t,r,i){let n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;let o=e[e.length-1],s=Qn(n,t),a=Qn(o,t);return Vt(s===a,`You are trying to animate ${t} from "${n}" to "${o}". "${s?o:n}" is not an animatable value.`,"value-not-animatable"),!s||!a?!1:Ou(e)||(r==="spring"||fi(r))&&i}function Ce(e){e.duration=0,e.type="keyframes"}var ku=new Set(["opacity","clipPath","filter","transform"]),Nu=Jt(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qa(e){let{motionValue:t,name:r,repeatDelay:i,repeatType:n,damping:o,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:l,transformTemplate:f}=t.owner.getProps();return Nu()&&r&&ku.has(r)&&(r!=="transform"||!f)&&!l&&!i&&n!=="mirror"&&o!==0&&s!=="inertia"}var _u=40,vr=class extends Gt{constructor({autoplay:t=!0,delay:r=0,type:i="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:f,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=U.now();let m={autoplay:t,delay:r,type:i,repeat:n,repeatDelay:o,repeatType:s,name:l,motionValue:f,element:c,...u},h=c?.KeyframeResolver||Dt;this.keyframeResolver=new h(a,(p,d,x)=>this.onKeyframesResolved(p,d,m,!x),l,f,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,i,n){this.keyframeResolver=void 0;let{name:o,type:s,velocity:a,delay:l,isHandoff:f,onUpdate:c}=i;this.resolvedAt=U.now(),Za(t,o,s,a)||((et.instantAnimations||!l)&&c?.(Pe(t,i,r)),t[0]=t[t.length-1],Ce(i),i.repeat=0);let m={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>_u?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:t},h=!f&&Qa(m)?new mi({...m,element:m.motionValue.owner.current}):new Et(m);h.finished.then(()=>this.notifyFinished()).catch(z),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Xn()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}};var zu=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ju(e){let t=zu.exec(e);if(!t)return[,];let[,r,i,n]=t;return[`--${r??i}`,n]}var Uu=4;function Jn(e,t,r=1){ht(r<=Uu,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[i,n]=ju(e);if(!i)return;let o=window.getComputedStyle(t).getPropertyValue(i);if(o){let s=o.trim();return tr(s)?parseFloat(s):s}return ee(n)?Jn(n,t,r+1):n}function oe(e,t){return e?.[t]??e?.default??e}var Tr=new Set(["width","height","top","left","right","bottom",...vt]);var Ja={test:e=>e==="auto",parse:e=>e};var hi=e=>t=>t.test(e);var ts=[St,w,rt,yt,On,Bn,Ja],es=e=>ts.find(hi(e));function tl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rr(e):!0}var Gu=new Set(["brightness","contrast","saturate","opacity"]);function Wu(e){let[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;let[i]=r.match(Se)||[];if(!i)return e;let n=r.replace(i,""),o=Gu.has(t)?1:0;return i!==r&&(o*=100),t+"("+o+n+")"}var Ku=/\b([a-z-]*)\(.*?\)/gu,br={...it,getAnimatableNone:e=>{let t=e.match(Ku);return t?t.map(Wu).join(" "):e}};var rs={...St,transform:Math.round};var el={rotate:yt,rotateX:yt,rotateY:yt,rotateZ:yt,scale:hr,scaleX:hr,scaleY:hr,scaleZ:hr,skew:yt,skewX:yt,skewY:yt,distance:w,translateX:w,translateY:w,translateZ:w,x:w,y:w,z:w,perspective:w,transformPerspective:w,opacity:Ct,originX:ei,originY:ei,originZ:w};var ae={borderWidth:w,borderTopWidth:w,borderRightWidth:w,borderBottomWidth:w,borderLeftWidth:w,borderRadius:w,radius:w,borderTopLeftRadius:w,borderTopRightRadius:w,borderBottomRightRadius:w,borderBottomLeftRadius:w,width:w,maxWidth:w,height:w,maxHeight:w,top:w,right:w,bottom:w,left:w,padding:w,paddingTop:w,paddingRight:w,paddingBottom:w,paddingLeft:w,margin:w,marginTop:w,marginRight:w,marginBottom:w,marginLeft:w,backgroundPositionX:w,backgroundPositionY:w,...el,zIndex:rs,fillOpacity:Ct,strokeOpacity:Ct,numOctaves:rs};var rl={...ae,color:_,backgroundColor:_,outlineColor:_,fill:_,stroke:_,borderColor:_,borderTopColor:_,borderRightColor:_,borderBottomColor:_,borderLeftColor:_,filter:br,WebkitFilter:br},Sr=e=>rl[e];function Mr(e,t){let r=Sr(e);return r!==br&&(r=it),r.getAnimatableNone?r.getAnimatableNone(t):void 0}var qu=new Set(["auto","none","0"]);function il(e,t,r){let i=0,n;for(;i<e.length&&!n;){let o=e[i];typeof o=="string"&&!qu.has(o)&&Ut(o).values.length&&(n=e[i]),i++}if(n&&r)for(let o of t)e[o]=Mr(r,n)}var wr=class extends Dt{constructor(t,r,i,n,o){super(t,r,i,n,o,!0)}readKeyframes(){let{unresolvedKeyframes:t,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let f=t[l];if(typeof f=="string"&&(f=f.trim(),ee(f))){let c=Jn(f,r.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Tr.has(i)||t.length!==2)return;let[n,o]=t,s=es(n),a=es(o);if(s!==a)if(Kn(s)&&Kn(a))for(let l=0;l<t.length;l++){let f=t[l];typeof f=="string"&&(t[l]=parseFloat(f))}else Wt[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:t,name:r}=this,i=[];for(let n=0;n<t.length;n++)(t[n]===null||tl(t[n]))&&i.push(n);i.length&&il(t,i,r)}measureInitialState(){let{element:t,unresolvedKeyframes:r,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wt[i](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;let n=r[r.length-1];n!==void 0&&t.getValue(i,n).jump(n,!1)}measureEndState(){let{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;let n=t.getValue(r);n&&n.jump(this.measuredOrigin,!1);let o=i.length-1,s=i[o];i[o]=Wt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}};function nl(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;t&&(i=t.current);let n=r?.[e]??i.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}var Ar=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function sl(e){return er(e)&&"offsetHeight"in e}var ol=30,$u=e=>!isNaN(parseFloat(e)),is={current:void 0},pi=class{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{let n=U.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=U.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$u(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Pt);let i=this.events[t].add(r);return t==="change"?()=>{i(),D.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return is.current&&is.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let t=U.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ol)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,ol);return ir(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function pt(e,t){return new pi(e,t)}var{schedule:le,cancel:Hu}=Qr(queueMicrotask,!1);var dt={x:!1,y:!1};function di(){return dt.x||dt.y}function ns(e){return e==="x"||e==="y"?dt[e]?null:(dt[e]=!0,()=>{dt[e]=!1}):dt.x||dt.y?null:(dt.x=dt.y=!0,()=>{dt.x=dt.y=!1})}function gi(e,t){let r=nl(e),i=new AbortController,n={passive:!0,...t,signal:i.signal};return[r,n,()=>i.abort()]}function al(e){return!(e.pointerType==="touch"||di())}function ss(e,t,r={}){let[i,n,o]=gi(e,r),s=a=>{if(!al(a))return;let{target:l}=a,f=t(l,a);if(typeof f!="function"||!l)return;let c=u=>{al(u)&&(f(u),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,n)};return i.forEach(a=>{a.addEventListener("pointerenter",s,n)}),o}var os=(e,t)=>t?e===t?!0:os(e,t.parentElement):!1;var ce=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;var Xu=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ll(e){return Xu.has(e.tagName)||e.tabIndex!==-1}var Ee=new WeakSet;function cl(e){return t=>{t.key==="Enter"&&e(t)}}function as(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}var fl=(e,t)=>{let r=e.currentTarget;if(!r)return;let i=cl(()=>{if(Ee.has(r))return;as(r,"down");let n=cl(()=>{as(r,"up")}),o=()=>as(r,"cancel");r.addEventListener("keyup",n,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function ul(e){return ce(e)&&!di()}function ls(e,t,r={}){let[i,n,o]=gi(e,r),s=a=>{let l=a.currentTarget;if(!ul(a))return;Ee.add(l);let f=t(l,a),c=(h,p)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",m),Ee.has(l)&&Ee.delete(l),ul(h)&&typeof f=="function"&&f(h,{success:p})},u=h=>{c(h,l===window||l===document||r.useGlobalTarget||os(l,h.target))},m=h=>{c(h,!1)};window.addEventListener("pointerup",u,n),window.addEventListener("pointercancel",m,n)};return i.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",s,n),sl(a)&&(a.addEventListener("focus",f=>fl(f,n)),!ll(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function Vr(e){return er(e)&&"ownerSVGElement"in e}function cs(e){return Vr(e)&&e.tagName==="svg"}var B=e=>Boolean(e&&e.getVelocity);var Yu=[...ts,_,it],fs=e=>Yu.find(hi(e));var ml=E(O(),1),xi=(0,ml.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});var Kt=E(O(),1);function hl(e=!0){let t=(0,Kt.useContext)(Te);if(t===null)return[!0,null];let{isPresent:r,onExitComplete:i,register:n}=t,o=(0,Kt.useId)();(0,Kt.useEffect)(()=>{if(e)return n(o)},[e]);let s=(0,Kt.useCallback)(()=>e&&i&&i(o),[o,i,e]);return!r&&i?[!1,s]:[!0]}var pl=E(O(),1),yi=(0,pl.createContext)({strict:!1});var dl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ft={};for(let e in dl)Ft[e]={isEnabled:t=>dl[e].some(r=>!!t[r])};function gl(e){for(let t in e)Ft[t]={...Ft[t],...e[t]}}var Zu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Zu.has(e)}var xl=e=>!Pr(e);function Qu(e){typeof e=="function"&&(xl=t=>t.startsWith("on")?!Pr(t):e(t))}try{Qu(Rf("@emotion/is-prop-valid").default)}catch{}function yl(e,t,r){let i={};for(let n in e)n==="values"&&typeof e.values=="object"||(xl(n)||r===!0&&Pr(n)||!t&&!Pr(n)||e.draggable&&n.startsWith("onDrag"))&&(i[n]=e[n]);return i}var Di=E(q(),1);var Ne=E(O(),1);var vl=E(O(),1),qt=(0,vl.createContext)({});var bi=E(O(),1);function $t(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rt(e){return typeof e=="string"||Array.isArray(e)}var vi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cr=["initial",...vi];function fe(e){return $t(e.animate)||Cr.some(t=>Rt(e[t]))}function Ti(e){return Boolean(fe(e)||e.variants)}function Tl(e,t){if(fe(e)){let{initial:r,animate:i}=e;return{initial:r===!1||Rt(r)?r:void 0,animate:Rt(i)?i:void 0}}return e.inherit!==!1?t:{}}function Sl(e){let{initial:t,animate:r}=Tl(e,(0,bi.useContext)(qt));return(0,bi.useMemo)(()=>({initial:t,animate:r}),[bl(t),bl(r)])}function bl(e){return Array.isArray(e)?e.join(" "):e}var Le=E(O(),1);var Al=E(O(),1);var ue={};function Ml(e){for(let t in e)ue[t]=e[t],te(t)&&(ue[t].isCSSVariable=!0)}function Si(e,{layout:t,layoutId:r}){return ft.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ue[e]||e==="opacity")}var Ju={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tm=vt.length;function wl(e,t,r){let i="",n=!0;for(let o=0;o<tm;o++){let s=vt[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||r){let f=Ar(a,ae[s]);if(!l){n=!1;let c=Ju[s]||s;i+=`${c}(${f}) `}r&&(t[s]=f)}}return i=i.trim(),r?i=r(t,n?"":i):n&&(i="none"),i}function De(e,t,r){let{style:i,vars:n,transformOrigin:o}=e,s=!1,a=!1;for(let l in t){let f=t[l];if(ft.has(l)){s=!0;continue}else if(te(l)){n[l]=f;continue}else{let c=Ar(f,ae[l]);l.startsWith("origin")?(a=!0,o[l]=c):i[l]=c}}if(t.transform||(s||r?i.transform=wl(t,e.transform,r):i.transform&&(i.transform="none")),a){let{originX:l="50%",originY:f="50%",originZ:c=0}=o;i.transformOrigin=`${l} ${f} ${c}`}}var Fe=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function us(e,t,r){for(let i in t)!B(t[i])&&!Si(i,r)&&(e[i]=t[i])}function em({transformTemplate:e},t){return(0,Al.useMemo)(()=>{let r=Fe();return De(r,t,e),Object.assign({},r.vars,r.style)},[t])}function rm(e,t){let r=e.style||{},i={};return us(i,r,e),Object.assign(i,em(e,t)),i}function Vl(e,t){let r={},i=rm(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var Cl=E(O(),1);var im={offset:"stroke-dashoffset",array:"stroke-dasharray"},nm={offset:"strokeDashoffset",array:"strokeDasharray"};function Pl(e,t,r=1,i=0,n=!0){e.pathLength=1;let o=n?im:nm;e[o.offset]=w.transform(-i);let s=w.transform(t),a=w.transform(r);e[o.array]=`${s} ${a}`}function Mi(e,{attrX:t,attrY:r,attrScale:i,pathLength:n,pathSpacing:o=1,pathOffset:s=0,...a},l,f,c){if(De(e,a,f),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:u,style:m}=e;u.transform&&(m.transform=u.transform,delete u.transform),(m.transform||u.transformOrigin)&&(m.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),m.transform&&(m.transformBox=c?.transformBox??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),r!==void 0&&(u.y=r),i!==void 0&&(u.scale=i),n!==void 0&&Pl(u,n,o,s,!1)}var wi=()=>({...Fe(),attrs:{}});var Ai=e=>typeof e=="string"&&e.toLowerCase()==="svg";function El(e,t,r,i){let n=(0,Cl.useMemo)(()=>{let o=wi();return Mi(o,t,Ai(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){let o={};us(o,e.style,e),n.style={...o,...n.style}}return n}var Dl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Re(e){return typeof e!="string"||e.includes("-")?!1:!!(Dl.indexOf(e)>-1||/[A-Z]/u.test(e))}function Fl(e,t,r,{latestValues:i},n,o=!1){let a=(Re(e)?El:Vl)(t,i,n,e),l=yl(t,typeof e=="string",o),f=e!==Le.Fragment?{...l,...a,ref:r}:{},{children:c}=t,u=(0,Le.useMemo)(()=>B(c)?c.get():c,[c]);return(0,Le.createElement)(e,{...f,children:u})}var ms=E(O(),1);function Rl(e){let t=[{},{}];return e?.values.forEach((r,i)=>{t[0][i]=r.get(),t[1][i]=r.getVelocity()}),t}function Ie(e,t,r,i){if(typeof t=="function"){let[n,o]=Rl(i);t=t(r!==void 0?r:e.custom,n,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){let[n,o]=Rl(i);t=t(r!==void 0?r:e.custom,n,o)}return t}function Be(e){return B(e)?e.get():e}function sm({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,n){return{latestValues:om(r,i,n,e),renderState:t()}}function om(e,t,r,i){let n={},o=i(e,{});for(let m in o)n[m]=Be(o[m]);let{initial:s,animate:a}=e,l=fe(e),f=Ti(e);t&&f&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=r?r.initial===!1:!1;c=c||s===!1;let u=c?a:s;if(u&&typeof u!="boolean"&&!$t(u)){let m=Array.isArray(u)?u:[u];for(let h=0;h<m.length;h++){let p=Ie(e,m[h]);if(p){let{transitionEnd:d,transition:x,...g}=p;for(let T in g){let y=g[T];if(Array.isArray(y)){let b=c?y.length-1:0;y=y[b]}y!==null&&(n[T]=y)}for(let T in d)n[T]=d[T]}}}return n}var Vi=e=>(t,r)=>{let i=(0,ms.useContext)(qt),n=(0,ms.useContext)(Te),o=()=>sm(e,t,i,n);return r?o():aa(o)};function Oe(e,t,r){let{style:i}=e,n={};for(let o in i)(B(i[o])||t.style&&B(t.style[o])||Si(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(n[o]=i[o]);return n}var Ll=Vi({scrapeMotionValuesFromProps:Oe,createRenderState:Fe});function Pi(e,t,r){let i=Oe(e,t,r);for(let n in e)if(B(e[n])||B(t[n])){let o=vt.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;i[o]=e[n]}return i}var Il=Vi({scrapeMotionValuesFromProps:Pi,createRenderState:wi});var Bl=Symbol.for("motionComponentSymbol");var Ol=E(O(),1);function Lt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kl(e,t,r){return(0,Ol.useCallback)(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),r&&(typeof r=="function"?r(i):Lt(r)&&(r.current=i))},[t])}var lt=E(O(),1);var ke=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();var am="framerAppearId",Ci="data-"+ke(am);var Nl=E(O(),1),Ei=(0,Nl.createContext)({});function _l(e,t,r,i,n){let{visualElement:o}=(0,lt.useContext)(qt),s=(0,lt.useContext)(yi),a=(0,lt.useContext)(Te),l=(0,lt.useContext)(xi).reducedMotion,f=(0,lt.useRef)(null);i=i||s.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:o,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));let c=f.current,u=(0,lt.useContext)(Ei);c&&!c.projection&&n&&(c.type==="html"||c.type==="svg")&&lm(f.current,r,n,u);let m=(0,lt.useRef)(!1);(0,lt.useInsertionEffect)(()=>{c&&m.current&&c.update(r,a)});let h=r[Ci],p=(0,lt.useRef)(Boolean(h)&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return la(()=>{c&&(m.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),p.current&&c.animationState&&c.animationState.animateChanges())}),(0,lt.useEffect)(()=>{c&&(!p.current&&c.animationState&&c.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(h)}),p.current=!1),c.enteringChildren=void 0)}),c}function lm(e,t,r,i){let{layoutId:n,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:f,layoutCrossfade:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:zl(e.parent)),e.projection.setOptions({layoutId:n,layout:o,alwaysMeasureLayout:Boolean(s)||a&&Lt(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:f})}function zl(e){if(e)return e.options.allowProjection!==!1?e.projection:zl(e.parent)}function Fi(e,{forwardMotionProps:t=!1}={},r,i){r&&gl(r);let n=Re(e)?Il:Ll;function o(a,l){let f,c={...(0,Ne.useContext)(xi),...a,layoutId:cm(a)},{isStatic:u}=c,m=Sl(a),h=n(a,u);if(!u&&ve){fm(c,r);let p=um(c);f=p.MeasureLayout,m.visualElement=_l(e,h,c,i,p.ProjectionNode)}return(0,Di.jsxs)(qt.Provider,{value:m,children:[f&&m.visualElement?(0,Di.jsx)(f,{visualElement:m.visualElement,...c}):null,Fl(e,a,kl(h,m.visualElement,l),h,u,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;let s=(0,Ne.forwardRef)(o);return s[Bl]=e,s}function cm({layoutId:e}){let t=(0,Ne.useContext)(qr).id;return t&&e!==void 0?t+"-"+e:e}function fm(e,t){let r=(0,Ne.useContext)(yi).strict}function um(e){let{drag:t,layout:r}=Ft;if(!t&&!r)return{};let i={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function jl(e,t){if(typeof Proxy>"u")return Fi;let r=new Map,i=(o,s)=>Fi(o,s,e,t),n=(o,s)=>i(o,s);return new Proxy(n,{get:(o,s)=>s==="create"?i:(r.has(s)||r.set(s,Fi(s,void 0,e,t)),r.get(s))})}var nc=E(O(),1);function Ri({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function Ul({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Gl(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function hs(e){return e===void 0||e===1}function Li({scale:e,scaleX:t,scaleY:r}){return!hs(e)||!hs(t)||!hs(r)}function It(e){return Li(e)||ps(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ps(e){return Wl(e.x)||Wl(e.y)}function Wl(e){return e&&e!=="0%"}function Er(e,t,r){let i=e-r,n=t*i;return r+n}function Kl(e,t,r,i,n){return n!==void 0&&(e=Er(e,n,i)),Er(e,r,i)+t}function ds(e,t=0,r=1,i,n){e.min=Kl(e.min,t,r,i,n),e.max=Kl(e.max,t,r,i,n)}function gs(e,{x:t,y:r}){ds(e.x,t.translate,t.scale,t.originPoint),ds(e.y,r.translate,r.scale,r.originPoint)}var ql=.999999999999,$l=1.0000000000001;function Xl(e,t,r,i=!1){let n=r.length;if(!n)return;t.x=t.y=1;let o,s;for(let a=0;a<n;a++){o=r[a],s=o.projectionDelta;let{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&me(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,gs(e,s)),i&&It(o.latestValues)&&me(e,o.latestValues))}t.x<$l&&t.x>ql&&(t.x=1),t.y<$l&&t.y>ql&&(t.y=1)}function Ht(e,t){e.min=e.min+t,e.max=e.max+t}function Hl(e,t,r,i,n=.5){let o=F(e.min,e.max,n);ds(e,t,r,o,i)}function me(e,t){Hl(e.x,t.x,t.scaleX,t.scale,t.originX),Hl(e.y,t.y,t.scaleY,t.scale,t.originY)}function xs(e,t){return Ri(Gl(e.getBoundingClientRect(),t))}function Yl(e,t,r){let i=xs(e,r),{scroll:n}=t;return n&&(Ht(i.x,n.offset.x),Ht(i.y,n.offset.y)),i}var Zl=()=>({translate:0,scale:1,origin:0,originPoint:0}),he=()=>({x:Zl(),y:Zl()}),Ql=()=>({min:0,max:0}),N=()=>({x:Ql(),y:Ql()});var Dr={current:null},Ii={current:!1};function Jl(){if(Ii.current=!0,!!ve)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dr.current=e.matches;e.addEventListener("change",t),t()}else Dr.current=!1}var tc=new WeakMap;function ec(e,t,r){for(let i in t){let n=t[i],o=r[i];if(B(n))e.addValue(i,n);else if(B(o))e.addValue(i,pt(n,{owner:e}));else if(o!==n)if(e.hasValue(i)){let s=e.getValue(i);s.liveStyle===!0?s.jump(n):s.hasAnimated||s.set(n)}else{let s=e.getStaticValue(i);e.addValue(i,pt(s!==void 0?s:n,{owner:e}))}}for(let i in r)t[i]===void 0&&e.removeValue(i);return t}var rc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bi=class{scrapeMotionValuesFromProps(t,r,i){return{}}constructor({parent:t,props:r,presenceContext:i,reducedMotionConfig:n,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let m=U.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,D.render(this.render,!1,!0))};let{latestValues:l,renderState:f}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=fe(r),this.isVariantNode=Ti(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);let{willChange:c,...u}=this.scrapeMotionValuesFromProps(r,{},this);for(let m in u){let h=u[m];l[m]!==void 0&&B(h)&&h.set(l[m])}}mount(t){this.current=t,tc.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Ii.current||Jl(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dr.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),at(this.notifyUpdate),at(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(let t in this.events)this.events[t].clear();for(let t in this.features){let r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();let i=ft.has(t);i&&this.onBindTransform&&this.onBindTransform();let n=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&D.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{n(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ft){let r=Ft[t];if(!r)continue;let{isEnabled:i,Feature:n}=r;if(!this.features[t]&&n&&i(this.props)&&(this.features[t]=new n(this)),this.features[t]){let o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):N()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<rc.length;i++){let n=rc[i];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let o="on"+n,s=t[o];s&&(this.propEventSubscriptions[n]=this.on(n,s))}this.prevMotionValues=ec(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){let r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){let i=this.values.get(t);r!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);let r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&r!==void 0&&(i=pt(r===null?void 0:r,{owner:this}),this.addValue(t,i)),i}readValue(t,r){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(tr(i)||rr(i))?i=parseFloat(i):!fs(i)&&it.test(r)&&(i=Mr(t,r)),this.setBaseTarget(t,B(i)?i.get():i)),B(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){let{initial:r}=this.props,i;if(typeof r=="string"||typeof r=="object"){let o=Ie(this.props,r,this.presenceContext?.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;let n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!B(n)?n:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Pt),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){le.render(this.render)}};var _e=class extends Bi{constructor(){super(...arguments),this.KeyframeResolver=wr}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:i}){delete r[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;B(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}};function Oi(e,{style:t,vars:r},i,n){let o=e.style,s;for(s in t)o[s]=t[s];n?.applyProjectionStyles(o,i);for(s in r)o.setProperty(s,r[s])}function mm(e){return window.getComputedStyle(e)}var ki=class extends _e{constructor(){super(...arguments),this.type="html",this.renderInstance=Oi}readValueFromInstance(t,r){if(ft.has(r))return this.projection?.isProjecting?xr(r):Wn(t,r);{let i=mm(t),n=(te(r)?i.getPropertyValue(r):i[r])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:r}){return xs(t,r)}build(t,r,i){De(t,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,r,i){return Oe(t,r,i)}};var Ni=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ic(e,t,r,i){Oi(e,t,void 0,i);for(let n in t.attrs)e.setAttribute(Ni.has(n)?n:ke(n),t.attrs[n])}var _i=class extends _e{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=N}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ft.has(r)){let i=Sr(r);return i&&i.default||0}return r=Ni.has(r)?r:ke(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,i){return Pi(t,r,i)}build(t,r,i){Mi(t,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,r,i,n){ic(t,r,i,n)}mount(t){this.isSVGTag=Ai(t.tagName),super.mount(t)}};var sc=(e,t)=>Re(e)?new _i(t):new ki(t,{allowProjection:e!==nc.Fragment});function wt(e,t,r){let i=e.getProps();return Ie(i,t,r!==void 0?r:i.custom,e)}var Fr=e=>Array.isArray(e);function hm(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,pt(r))}function pm(e){return Fr(e)?e[e.length-1]||0:e}function oc(e,t){let r=wt(e,t),{transitionEnd:i={},transition:n={},...o}=r||{};o={...o,...i};for(let s in o){let a=pm(o[s]);hm(e,s,a)}}function ac(e){return Boolean(B(e)&&e.add)}function Rr(e,t){let r=e.getValue("willChange");if(ac(r))return r.add(t);if(!r&&et.WillChange){let i=new et.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function zi(e){return e.props[Ci]}var dm=e=>e!==null;function lc(e,{repeat:t,repeatType:r="loop"},i){let n=e.filter(dm),o=t&&r!=="loop"&&t%2===1?0:n.length-1;return!o||i===void 0?n[o]:i}var gm={type:"spring",stiffness:500,damping:25,restSpeed:10},xm=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ym={type:"keyframes",duration:.8},vm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cc=(e,{keyframes:t})=>t.length>2?ym:ft.has(e)?e.startsWith("scale")?xm(t[1]):gm:vm;function fc({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:n,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:f,...c}){return!!Object.keys(c).length}var ze=(e,t,r,i={},n,o)=>s=>{let a=oe(i,e)||{},l=a.delay||i.delay||0,{elapsed:f=0}=i;f=f-$(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-f,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:n};fc(a)||Object.assign(c,cc(e,c)),c.duration&&(c.duration=$(c.duration)),c.repeatDelay&&(c.repeatDelay=$(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let u=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Ce(c),c.delay===0&&(u=!0)),(et.instantAnimations||et.skipAnimations)&&(u=!0,Ce(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,u&&!o&&t.get()!==void 0){let m=lc(c.keyframes,a);if(m!==void 0){D.update(()=>{c.onUpdate(m),c.onComplete()});return}}return a.isSync?new Et(c):new vr(c)};function Tm({protectedKeys:e,needsAnimating:t},r){let i=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,i}function ji(e,t,{delay:r=0,transitionOverride:i,type:n}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=t;i&&(o=i);let l=[],f=n&&e.animationState&&e.animationState.getState()[n];for(let c in a){let u=e.getValue(c,e.latestValues[c]??null),m=a[c];if(m===void 0||f&&Tm(f,c))continue;let h={delay:r,...oe(o||{},c)},p=u.get();if(p!==void 0&&!u.isAnimating&&!Array.isArray(m)&&m===p&&!h.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let g=zi(e);if(g){let T=window.MotionHandoffAnimation(g,c,D);T!==null&&(h.startTime=T,d=!0)}}Rr(e,c),u.start(ze(c,u,m,e.shouldReduceMotion&&Tr.has(c)?{type:!1}:h,e,d));let x=u.animation;x&&l.push(x)}return s&&Promise.all(l).then(()=>{D.update(()=>{s&&oc(e,s)})}),l}function Ui(e,t,r,i=0,n=1){let o=Array.from(e).sort((f,c)=>f.sortNodePosition(c)).indexOf(t),s=e.size,a=(s-1)*i;return typeof r=="function"?r(o,s):n===1?o*i:a-o*i}function Gi(e,t,r={}){let i=wt(e,t,r.type==="exit"?e.presenceContext?.custom:void 0),{transition:n=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(n=r.transitionOverride);let o=i?()=>Promise.all(ji(e,i,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{let{delayChildren:f=0,staggerChildren:c,staggerDirection:u}=n;return bm(e,t,l,f,c,u,r)}:()=>Promise.resolve(),{when:a}=n;if(a){let[l,f]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>f())}else return Promise.all([o(),s(r.delay)])}function bm(e,t,r=0,i=0,n=0,o=1,s){let a=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),a.push(Gi(l,t,{...s,delay:r+(typeof i=="function"?0:i)+Ui(e.variantChildren,l,i,n,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function uc(e,t,r={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){let n=t.map(o=>Gi(e,o,r));i=Promise.all(n)}else if(typeof t=="string")i=Gi(e,t,r);else{let n=typeof t=="function"?wt(e,t,r.custom):t;i=Promise.all(ji(e,n,r))}return i.then(()=>{e.notify("AnimationComplete",t)})}function ys(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}var Sm=Cr.length;function vs(e){if(!e)return;if(!e.isControllingVariants){let r=e.parent?vs(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}let t={};for(let r=0;r<Sm;r++){let i=Cr[r],n=e.props[i];(Rt(n)||n===!1)&&(t[i]=n)}return t}var Mm=[...vi].reverse(),wm=vi.length;function Am(e){return t=>Promise.all(t.map(({animation:r,options:i})=>uc(e,r,i)))}function hc(e){let t=Am(e),r=mc(),i=!0,n=l=>(f,c)=>{let u=wt(e,c,l==="exit"?e.presenceContext?.custom:void 0);if(u){let{transition:m,transitionEnd:h,...p}=u;f={...f,...p,...h}}return f};function o(l){t=l(e)}function s(l){let{props:f}=e,c=vs(e.parent)||{},u=[],m=new Set,h={},p=1/0;for(let x=0;x<wm;x++){let g=Mm[x],T=r[g],y=f[g]!==void 0?f[g]:c[g],b=Rt(y),v=g===l?T.isActive:null;v===!1&&(p=x);let S=y===c[g]&&y!==f[g]&&b;if(S&&i&&e.manuallyAnimateOnMount&&(S=!1),T.protectedKeys={...h},!T.isActive&&v===null||!y&&!T.prevProp||$t(y)||typeof y=="boolean")continue;let V=Vm(T.prevProp,y),M=V||g===l&&T.isActive&&!S&&b||x>p&&b,A=!1,P=Array.isArray(y)?y:[y],R=P.reduce(n(g),{});v===!1&&(R={});let{prevResolvedValues:L={}}=T,I={...L,...R},C=G=>{M=!0,m.has(G)&&(A=!0,m.delete(G)),T.needsAnimating[G]=!0;let nt=e.getValue(G);nt&&(nt.liveStyle=!1)};for(let G in I){let nt=R[G],W=L[G];if(h.hasOwnProperty(G))continue;let st=!1;Fr(nt)&&Fr(W)?st=!ys(nt,W):st=nt!==W,st?nt!=null?C(G):m.add(G):nt!==void 0&&m.has(G)?C(G):T.protectedKeys[G]=!0}T.prevProp=y,T.prevResolvedValues=R,T.isActive&&(h={...h,...R}),i&&e.blockInitialAnimation&&(M=!1);let Tt=S&&V;M&&(!Tt||A)&&u.push(...P.map(G=>{let nt={type:g};if(typeof G=="string"&&i&&!Tt&&e.manuallyAnimateOnMount&&e.parent){let{parent:W}=e,st=wt(W,G);if(W.enteringChildren&&st){let{delayChildren:Br}=st.transition||{};nt.delay=Ui(W.enteringChildren,e,Br)}}return{animation:G,options:nt}}))}if(m.size){let x={};if(typeof f.initial!="boolean"){let g=wt(e,Array.isArray(f.initial)?f.initial[0]:f.initial);g&&g.transition&&(x.transition=g.transition)}m.forEach(g=>{let T=e.getBaseTarget(g),y=e.getValue(g);y&&(y.liveStyle=!0),x[g]=T??null}),u.push({animation:x})}let d=Boolean(u.length);return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(d=!1),i=!1,d?t(u):Promise.resolve()}function a(l,f){if(r[l].isActive===f)return Promise.resolve();e.variantChildren?.forEach(u=>u.animationState?.setActive(l,f)),r[l].isActive=f;let c=s(l);for(let u in r)r[u].protectedKeys={};return c}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>r,reset:()=>{r=mc()}}}function Vm(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ys(t,e):!1}function pe(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mc(){return{animate:pe(!0),whileInView:pe(),whileHover:pe(),whileTap:pe(),whileDrag:pe(),whileFocus:pe(),exit:pe()}}var Q=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};var Wi=class extends Q{constructor(t){super(t),t.animationState||(t.animationState=hc(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();$t(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}};var Pm=0,Ki=class extends Q{constructor(){super(...arguments),this.id=Pm++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;let n=this.node.animationState.setActive("exit",!t);r&&!t&&n.then(()=>{r(this.id)})}mount(){let{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}};var pc={animation:{Feature:Wi},exit:{Feature:Ki}};function Bt(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}function Ot(e){return{point:{x:e.pageX,y:e.pageY}}}var dc=e=>t=>ce(t)&&e(t,Ot(t));function Xt(e,t,r,i){return Bt(e,t,dc(r),i)}var vc=1e-4,Cm=1-vc,Em=1+vc,Tc=.01,Dm=0-Tc,Fm=0+Tc;function X(e){return e.max-e.min}function bc(e,t,r){return Math.abs(e-t)<=r}function gc(e,t,r,i=.5){e.origin=i,e.originPoint=F(t.min,t.max,e.origin),e.scale=X(r)/X(t),e.translate=F(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Cm&&e.scale<=Em||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dm&&e.translate<=Fm||isNaN(e.translate))&&(e.translate=0)}function je(e,t,r,i){gc(e.x,t.x,r.x,i?i.originX:void 0),gc(e.y,t.y,r.y,i?i.originY:void 0)}function xc(e,t,r){e.min=r.min+t.min,e.max=e.min+X(t)}function Sc(e,t,r){xc(e.x,t.x,r.x),xc(e.y,t.y,r.y)}function yc(e,t,r){e.min=t.min-r.min,e.max=e.min+X(t)}function Ue(e,t,r){yc(e.x,t.x,r.x),yc(e.y,t.y,r.y)}function ct(e){return[e("x"),e("y")]}var qi=({current:e})=>e?e.ownerDocument.defaultView:null;var Mc=(e,t)=>Math.abs(e-t);function wc(e,t){let r=Mc(e.x,t.x),i=Mc(e.y,t.y);return Math.sqrt(r**2+i**2)}var Ge=class{constructor(t,r,{transformPagePoint:i,contextWindow:n=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let m=bs(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=wc(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!p)return;let{point:d}=m,{timestamp:x}=j;this.history.push({...d,timestamp:x});let{onStart:g,onMove:T}=this.handlers;h||(g&&g(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Ts(h,this.transformPagePoint),D.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();let{onEnd:p,onSessionEnd:d,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let g=bs(m.type==="pointercancel"?this.lastMoveEventInfo:Ts(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,g),d&&d(m,g)},!ce(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=n||window;let a=Ot(t),l=Ts(a,this.transformPagePoint),{point:f}=l,{timestamp:c}=j;this.history=[{...f,timestamp:c}];let{onSessionStart:u}=r;u&&u(t,bs(l,this.history)),this.removeListeners=gt(Xt(this.contextWindow,"pointermove",this.handlePointerMove),Xt(this.contextWindow,"pointerup",this.handlePointerUp),Xt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),at(this.updatePoint)}};function Ts(e,t){return t?{point:t(e.point)}:e}function Ac(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bs({point:e},t){return{point:e,delta:Ac(e,Vc(t)),offset:Ac(e,Rm(t)),velocity:Lm(t,.1)}}function Rm(e){return e[0]}function Vc(e){return e[e.length-1]}function Lm(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null,n=Vc(e);for(;r>=0&&(i=e[r],!(n.timestamp-i.timestamp>$(t)));)r--;if(!i)return{x:0,y:0};let o=H(n.timestamp-i.timestamp);if(o===0)return{x:0,y:0};let s={x:(n.x-i.x)/o,y:(n.y-i.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Fc(e,{min:t,max:r},i){return t!==void 0&&e<t?e=i?F(t,e,i.min):Math.max(e,t):r!==void 0&&e>r&&(e=i?F(r,e,i.max):Math.min(e,r)),e}function Pc(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Rc(e,{top:t,left:r,bottom:i,right:n}){return{x:Pc(e.x,r,n),y:Pc(e.y,t,i)}}function Cc(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function Lc(e,t){return{x:Cc(e.x,t.x),y:Cc(e.y,t.y)}}function Ic(e,t){let r=.5,i=X(e),n=X(t);return n>i?r=bt(t.min,t.max-i,e.min):i>n&&(r=bt(e.min,e.max-n,t.min)),Z(0,1,r)}function Bc(e,t){let r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}var $i=.35;function Oc(e=$i){return e===!1?e=0:e===!0&&(e=$i),{x:Ec(e,"left","right"),y:Ec(e,"top","bottom")}}function Ec(e,t,r){return{min:Dc(e,t),max:Dc(e,r)}}function Dc(e,t){return typeof e=="number"?e:e[t]||0}var Im=new WeakMap,Xi=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=N(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:i}={}){let{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;let o=u=>{let{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ot(u).point)},s=(u,m)=>{let{drag:h,dragPropagation:p,onDragStart:d}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ns(h),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ct(g=>{let T=this.getAxisMotionValue(g).get()||0;if(rt.test(T)){let{projection:y}=this.visualElement;if(y&&y.layout){let b=y.layout.layoutBox[g];b&&(T=X(b)*(parseFloat(T)/100))}}this.originPoint[g]=T}),d&&D.postRender(()=>d(u,m)),Rr(this.visualElement,"transform");let{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(u,m)=>{this.latestPointerEvent=u,this.latestPanInfo=m;let{dragPropagation:h,dragDirectionLock:p,onDirectionLock:d,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;let{offset:g}=m;if(p&&this.currentDirection===null){this.currentDirection=Bm(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",m.point,g),this.updateAxis("y",m.point,g),this.visualElement.render(),x&&x(u,m)},l=(u,m)=>{this.latestPointerEvent=u,this.latestPanInfo=m,this.stop(u,m),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ct(u=>this.getAnimationState(u)==="paused"&&this.getAxisMotionValue(u).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Ge(t,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:qi(this.visualElement)})}stop(t,r){let i=t||this.latestPointerEvent,n=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!n||!i)return;let{velocity:s}=n;this.startAnimation(s);let{onDragEnd:a}=this.getProps();a&&D.postRender(()=>a(i,n))}cancel(){this.isDragging=!1;let{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,i){let{drag:n}=this.getProps();if(!i||!Hi(t,n,this.currentDirection))return;let o=this.getAxisMotionValue(t),s=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(s=Fc(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){let{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&Lt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Rc(i.layoutBox,t):this.constraints=!1,this.elastic=Oc(r),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ct(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Bc(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Lt(t))return!1;let i=t.current;ht(i!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let o=Yl(i,n.root,this.visualElement.getTransformPagePoint()),s=Lc(n.layout.layoutBox,o);if(r){let a=r(Ul(s));this.hasMutatedConstraints=!!a,a&&(s=Ri(a))}return s}startAnimation(t){let{drag:r,dragMomentum:i,dragElastic:n,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},f=ct(c=>{if(!Hi(c,r,this.currentDirection))return;let u=l&&l[c]||{};s&&(u={min:0,max:0});let m=n?200:1e6,h=n?40:1e7,p={type:"inertia",velocity:i?t[c]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(c,p)});return Promise.all(f).then(a)}startAxisValueAnimation(t,r){let i=this.getAxisMotionValue(t);return Rr(this.visualElement,t),i.start(ze(t,i,0,r,this.visualElement,!1))}stopAnimation(){ct(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ct(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){let r=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),n=i[r];return n||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ct(r=>{let{drag:i}=this.getProps();if(!Hi(r,i,this.currentDirection))return;let{projection:n}=this.visualElement,o=this.getAxisMotionValue(r);if(n&&n.layout){let{min:s,max:a}=n.layout.layoutBox[r];o.set(t[r]-F(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Lt(r)||!i||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};ct(s=>{let a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){let l=a.get();n[s]=Ic({min:l,max:l},this.constraints[s])}});let{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ct(s=>{if(!Hi(s,t,null))return;let a=this.getAxisMotionValue(s),{min:l,max:f}=this.constraints[s];a.set(F(l,f,n[s]))})}addListeners(){if(!this.visualElement.current)return;Im.set(this.visualElement,this);let t=this.visualElement.current,r=Xt(t,"pointerdown",l=>{let{drag:f,dragListener:c=!0}=this.getProps();f&&c&&this.start(l)}),i=()=>{let{dragConstraints:l}=this.getProps();Lt(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",i);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),D.read(i);let s=Bt(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:l,hasLayoutChanged:f})=>{this.isDragging&&f&&(ct(c=>{let u=this.getAxisMotionValue(c);u&&(this.originPoint[c]+=l[c].translate,u.set(u.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),r(),o(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:s=$i,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:i,dragPropagation:n,dragConstraints:o,dragElastic:s,dragMomentum:a}}};function Hi(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Bm(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}var Yi=class extends Q{constructor(t){super(t),this.removeGroupControls=z,this.removeListeners=z,this.controls=new Xi(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||z}unmount(){this.removeGroupControls(),this.removeListeners()}};var kc=e=>(t,r)=>{e&&D.postRender(()=>e(t,r))},Zi=class extends Q{constructor(){super(...arguments),this.removePointerDownListener=z}onPointerDown(t){this.session=new Ge(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qi(this.node)})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:r,onPan:i,onPanEnd:n}=this.node.getProps();return{onSessionStart:kc(t),onStart:kc(r),onMove:i,onEnd:(o,s)=>{delete this.session,n&&D.postRender(()=>n(o,s))}}}mount(){this.removePointerDownListener=Xt(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};var zc=E(q(),1);var Lr=E(O(),1);var We={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Nc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Ke={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(w.test(e))e=parseFloat(e);else return e;let r=Nc(e,t.target.x),i=Nc(e,t.target.y);return`${r}% ${i}%`}};var _c={correct:(e,{treeScale:t,projectionDelta:r})=>{let i=e,n=it.parse(e);if(n.length>5)return i;let o=it.createTransformer(e),s=typeof n[0]!="number"?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;n[0+s]/=a,n[1+s]/=l;let f=F(a,l,.5);return typeof n[2+s]=="number"&&(n[2+s]/=f),typeof n[3+s]=="number"&&(n[3+s]/=f),o(n)}};var Ss=!1,Ms=class extends Lr.Component{componentDidMount(){let{visualElement:t,layoutGroup:r,switchLayoutGroup:i,layoutId:n}=this.props,{projection:o}=t;Ml(Om),o&&(r.group&&r.group.add(o),i&&i.register&&n&&i.register(o),Ss&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),We.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:r,visualElement:i,drag:n,isPresent:o}=this.props,{projection:s}=i;return s&&(s.isPresent=o,Ss=!0,n||t.layoutDependency!==r||r===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||D.postRender(()=>{let a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),le.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:n}=t;Ss=!0,n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),i&&i.deregister&&i.deregister(n))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}};function Qi(e){let[t,r]=hl(),i=(0,Lr.useContext)(qr);return(0,zc.jsx)(Ms,{...e,layoutGroup:i,switchLayoutGroup:(0,Lr.useContext)(Ei),isPresent:t,safeToRemove:r})}var Om={borderRadius:{...Ke,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomLeftRadius:Ke,borderBottomRightRadius:Ke,boxShadow:_c};function jc(e,t,r){let i=B(e)?e:pt(e);return i.start(ze("",i,t,r)),i.animation}var Uc=(e,t)=>e.depth-t.depth;var Ji=class{constructor(){this.children=[],this.isDirty=!1}add(t){Zt(this.children,t),this.isDirty=!0}remove(t){Qt(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Uc),this.isDirty=!1,this.children.forEach(t)}};function Gc(e,t){let r=U.now(),i=({timestamp:n})=>{let o=n-r;o>=t&&(at(i),e(o-t))};return D.setup(i,!0),()=>at(i)}var $c=["TopLeft","TopRight","BottomLeft","BottomRight"],km=$c.length,Wc=e=>typeof e=="string"?parseFloat(e):e,Kc=e=>typeof e=="number"||w.test(e);function Hc(e,t,r,i,n,o){n?(e.opacity=F(0,r.opacity??1,Nm(i)),e.opacityExit=F(t.opacity??1,0,_m(i))):o&&(e.opacity=F(t.opacity??1,r.opacity??1,i));for(let s=0;s<km;s++){let a=`border${$c[s]}Radius`,l=qc(t,a),f=qc(r,a);if(l===void 0&&f===void 0)continue;l||(l=0),f||(f=0),l===0||f===0||Kc(l)===Kc(f)?(e[a]=Math.max(F(Wc(l),Wc(f),i),0),(rt.test(f)||rt.test(l))&&(e[a]+="%")):e[a]=f}(t.rotate||r.rotate)&&(e.rotate=F(t.rotate||0,r.rotate||0,i))}function qc(e,t){return e[t]!==void 0?e[t]:e.borderRadius}var Nm=Xc(0,.5,ar),_m=Xc(.5,.95,z);function Xc(e,t,r){return i=>i<e?0:i>t?1:r(bt(e,t,i))}function Yc(e,t){e.min=t.min,e.max=t.max}function ut(e,t){Yc(e.x,t.x),Yc(e.y,t.y)}function ws(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Zc(e,t,r,i,n){return e-=t,e=Er(e,1/r,i),n!==void 0&&(e=Er(e,1/n,i)),e}function zm(e,t=0,r=1,i=.5,n,o=e,s=e){if(rt.test(t)&&(t=parseFloat(t),t=F(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=F(o.min,o.max,i);e===o&&(a-=t),e.min=Zc(e.min,t,r,a,n),e.max=Zc(e.max,t,r,a,n)}function Qc(e,t,[r,i,n],o,s){zm(e,t[r],t[i],t[n],t.scale,o,s)}var jm=["x","scaleX","originX"],Um=["y","scaleY","originY"];function As(e,t,r,i){Qc(e.x,t,jm,r?r.x:void 0,i?i.x:void 0),Qc(e.y,t,Um,r?r.y:void 0,i?i.y:void 0)}function Jc(e){return e.translate===0&&e.scale===1}function Vs(e){return Jc(e.x)&&Jc(e.y)}function tf(e,t){return e.min===t.min&&e.max===t.max}function rf(e,t){return tf(e.x,t.x)&&tf(e.y,t.y)}function ef(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ps(e,t){return ef(e.x,t.x)&&ef(e.y,t.y)}function Cs(e){return X(e.x)/X(e.y)}function Es(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}var tn=class{constructor(){this.members=[]}add(t){Zt(this.members,t),t.scheduleRender()}remove(t){if(Qt(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){let r=this.members.findIndex(n=>t===n);if(r===0)return!1;let i;for(let n=r;n>=0;n--){let o=this.members[n];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,r){let i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:n}=t.options;n===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:r,resumingFrom:i}=t;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function nf(e,t,r){let i="",n=e.x.translate/t.x,o=e.y.translate/t.y,s=r?.z||0;if((n||o||s)&&(i=`translate3d(${n}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:f,rotate:c,rotateX:u,rotateY:m,skewX:h,skewY:p}=r;f&&(i=`perspective(${f}px) ${i}`),c&&(i+=`rotate(${c}deg) `),u&&(i+=`rotateX(${u}deg) `),m&&(i+=`rotateY(${m}deg) `),h&&(i+=`skewX(${h}deg) `),p&&(i+=`skewY(${p}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}var de={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Ds=["","X","Y","Z"],Gm=1e3,Wm=0;function Fs(e,t,r,i){let{latestValues:n}=t;n[e]&&(r[e]=n[e],t.setStaticValue(e,0),i&&(i[e]=0))}function hf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let r=zi(t);if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:n,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",D,!(n||o))}let{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&hf(i)}function en({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:n}){return class{constructor(s={},a=t?.()){this.id=Wm++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ot.value&&(de.nodes=de.calculatedTargetDeltas=de.calculatedProjections=0),this.nodes.forEach($m),this.nodes.forEach(Zm),this.nodes.forEach(Qm),this.nodes.forEach(Hm),ot.addProjectionMetrics&&ot.addProjectionMetrics(de)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ji)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Pt),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){let l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Vr(s)&&!cs(s),this.instance=s;let{layoutId:a,layout:l,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,u=0,m=()=>this.root.updateBlockedByResize=!1;D.read(()=>{u=window.innerWidth}),e(s,()=>{let h=window.innerWidth;h!==u&&(u=h,this.root.updateBlockedByResize=!0,c&&c(),c=Gc(m,250),We.hasAnimatedSinceResize&&(We.hasAnimatedSinceResize=!1,this.nodes.forEach(af)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&f&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:m,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let p=this.options.transition||f.getDefaultTransition()||ih,{onLayoutAnimationStart:d,onLayoutAnimationComplete:x}=f.getProps(),g=!this.targetLayout||!Ps(this.targetLayout,h),T=!u&&m;if(this.options.layoutRoot||this.resumeFrom||T||u&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let y={...oe(p,"layout"),onPlay:d,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(c,T)}else u||af(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),at(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jm),this.animationId++)}getTransformTemplate(){let{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){let u=this.path[c];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}let{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;let f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sf);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(of);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ym),this.nodes.forEach(Km),this.nodes.forEach(qm)):this.nodes.forEach(of),this.clearAllSnapshots();let a=U.now();j.delta=Z(0,1e3/60,a-j.timestamp),j.timestamp=a,j.isProcessing=!0,mr.update.process(j),mr.preRender.process(j),mr.render.process(j),j.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,le.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xm),this.sharedNodes.forEach(th)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,D.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){D.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!X(this.snapshot.measuredBox.x)&&!X(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();let s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=N(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){let l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!n)return;let s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Vs(this.projectionDelta),l=this.getTransformTemplate(),f=l?l(this.latestValues,""):void 0,c=f!==this.prevTransformTemplateValue;s&&this.instance&&(a||It(this.latestValues)||c)&&(n(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){let a=this.measurePageBox(),l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),nh(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:s}=this.options;if(!s)return N();let a=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sh))){let{scroll:f}=this.root;f&&(Ht(a.x,f.offset.x),Ht(a.y,f.offset.y))}return a}removeElementScroll(s){let a=N();if(ut(a,s),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){let f=this.path[l],{scroll:c,options:u}=f;f!==this.root&&c&&u.layoutScroll&&(c.wasRoot&&ut(a,s),Ht(a.x,c.offset.x),Ht(a.y,c.offset.y))}return a}applyTransform(s,a=!1){let l=N();ut(l,s);for(let f=0;f<this.path.length;f++){let c=this.path[f];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&me(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),It(c.latestValues)&&me(l,c.latestValues)}return It(this.latestValues)&&me(l,this.latestValues),l}removeTransform(s){let a=N();ut(a,s);for(let l=0;l<this.path.length;l++){let f=this.path[l];if(!f.instance||!It(f.latestValues))continue;Li(f.latestValues)&&f.updateSnapshot();let c=N(),u=f.measurePageBox();ut(c,u),As(a,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,c)}return It(this.latestValues)&&As(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==j.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){let a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);let l=Boolean(this.resumingFrom)||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:c,layoutId:u}=this.options;if(!(!this.layout||!(c||u))){if(this.resolvedRelativeTargetAt=j.timestamp,!this.targetDelta&&!this.relativeTarget){let m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=N(),this.relativeTargetOrigin=N(),Ue(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=N(),this.targetWithTransforms=N()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sc(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ut(this.target,this.layout.layoutBox),gs(this.target,this.targetDelta)):ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let m=this.getClosestProjectingParent();m&&Boolean(m.resumingFrom)===Boolean(this.resumingFrom)&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=N(),this.relativeTargetOrigin=N(),Ue(this.relativeTargetOrigin,this.target,m.target),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ot.value&&de.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Li(this.parent.latestValues)||ps(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let s=this.getLead(),a=Boolean(this.resumingFrom)||this!==s,l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===j.timestamp&&(l=!1),l)return;let{layout:f,layoutId:c}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||c))return;ut(this.layoutCorrected,this.layout.layoutBox);let u=this.treeScale.x,m=this.treeScale.y;Xl(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=N());let{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ws(this.prevProjectionDelta.x,this.projectionDelta.x),ws(this.prevProjectionDelta.y,this.projectionDelta.y)),je(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==m||!Es(this.projectionDelta.x,this.prevProjectionDelta.x)||!Es(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),ot.value&&de.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){let a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=he(),this.projectionDelta=he(),this.projectionDeltaWithTransform=he()}setAnimationOrigin(s,a=!1){let l=this.snapshot,f=l?l.latestValues:{},c={...this.latestValues},u=he();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;let m=N(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,d=h!==p,x=this.getStack(),g=!x||x.members.length<=1,T=Boolean(d&&!g&&this.options.crossfade===!0&&!this.path.some(rh));this.animationProgress=0;let y;this.mixTargetDelta=b=>{let v=b/1e3;lf(u.x,s.x,v),lf(u.y,s.y,v),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ue(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eh(this.relativeTarget,this.relativeTargetOrigin,m,v),y&&rf(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=N()),ut(y,this.relativeTarget)),d&&(this.animationValues=c,Hc(c,f,this.latestValues,v,T,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=v},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(at(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=D.update(()=>{We.hasAnimatedSinceResize=!0,xt.layout++,this.motionValue||(this.motionValue=pt(0)),this.currentAnimation=jc(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{xt.layout--},onComplete:()=>{xt.layout--,s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let s=this.getLead(),{targetWithTransforms:a,target:l,layout:f,latestValues:c}=s;if(!(!a||!l||!f)){if(this!==s&&this.layout&&f&&pf(this.options.animationType,this.layout.layoutBox,f.layoutBox)){l=this.target||N();let u=X(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+u;let m=X(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+m}ut(a,l),me(a,c),je(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new tn),this.sharedNodes.get(s).add(a);let f=a.options.initialPromotionConfig;a.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(a):void 0})}isLead(){let s=this.getStack();return s?s.lead===this:!0}getLead(){let{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){let{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){let f=this.getStack();f&&f.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){let s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){let{visualElement:s}=this.options;if(!s)return;let a=!1,{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;let f={};l.z&&Fs("z",s,f,this.animationValues);for(let c=0;c<Ds.length;c++)Fs(`rotate${Ds[c]}`,s,f,this.animationValues),Fs(`skew${Ds[c]}`,s,f,this.animationValues);s.render();for(let c in f)s.setStaticValue(c,f[c]),this.animationValues&&(this.animationValues[c]=f[c]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}let l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Be(a?.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}let f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Be(a?.pointerEvents)||""),this.hasProjected&&!It(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";let c=f.animationValues||f.latestValues;this.applyTransformsToTarget();let u=nf(this.projectionDeltaWithTransform,this.treeScale,c);l&&(u=l(c,u)),s.transform=u;let{x:m,y:h}=this.projectionDelta;s.transformOrigin=`${m.origin*100}% ${h.origin*100}% 0`,f.animationValues?s.opacity=f===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=f===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(let p in ue){if(c[p]===void 0)continue;let{correct:d,applyTo:x,isCSSVariable:g}=ue[p],T=u==="none"?c[p]:d(c[p],f);if(x){let y=x.length;for(let b=0;b<y;b++)s[x[b]]=T}else g?this.options.visualElement.renderState.vars[p]=T:s[p]=T}this.options.layoutId&&(s.pointerEvents=f===this?Be(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(sf),this.root.sharedNodes.clear()}}}function Km(e){e.updateLayout()}function qm(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:i}=e.layout,{animationType:n}=e.options,o=t.source!==e.layout.source;n==="size"?ct(c=>{let u=o?t.measuredBox[c]:t.layoutBox[c],m=X(u);u.min=r[c].min,u.max=u.min+m}):pf(n,t.layoutBox,r)&&ct(c=>{let u=o?t.measuredBox[c]:t.layoutBox[c],m=X(r[c]);u.max=u.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[c].max=e.relativeTarget[c].min+m)});let s=he();je(s,r,t.layoutBox);let a=he();o?je(a,e.applyTransform(i,!0),t.measuredBox):je(a,r,t.layoutBox);let l=!Vs(s),f=!1;if(!e.resumeFrom){let c=e.getClosestProjectingParent();if(c&&!c.resumeFrom){let{snapshot:u,layout:m}=c;if(u&&m){let h=N();Ue(h,t.layoutBox,u.layoutBox);let p=N();Ue(p,r,m.layoutBox),Ps(h,p)||(f=!0),c.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=h,e.relativeParent=c)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:f})}else if(e.isLead()){let{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function $m(e){ot.value&&de.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Hm(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xm(e){e.clearSnapshot()}function sf(e){e.clearMeasurements()}function of(e){e.isLayoutDirty=!1}function Ym(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function af(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Zm(e){e.resolveTargetDelta()}function Qm(e){e.calcProjection()}function Jm(e){e.resetSkewAndRotation()}function th(e){e.removeLeadSnapshot()}function lf(e,t,r){e.translate=F(t.translate,0,r),e.scale=F(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function cf(e,t,r,i){e.min=F(t.min,r.min,i),e.max=F(t.max,r.max,i)}function eh(e,t,r,i){cf(e.x,t.x,r.x,i),cf(e.y,t.y,r.y,i)}function rh(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var ih={duration:.45,ease:[.4,0,.1,1]},ff=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),uf=ff("applewebkit/")&&!ff("chrome/")?Math.round:z;function mf(e){e.min=uf(e.min),e.max=uf(e.max)}function nh(e){mf(e.x),mf(e.y)}function pf(e,t,r){return e==="position"||e==="preserve-aspect"&&!bc(Cs(t),Cs(r),.2)}function sh(e){return e!==e.root&&e.scroll?.wasRoot}var df=en({attachResizeListener:(e,t)=>Bt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0});var Rs={current:void 0},rn=en({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rs.current){let e=new df({});e.mount(window),e.setOptions({layoutScroll:!0}),Rs.current=e}return Rs.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>Boolean(window.getComputedStyle(e).position==="fixed")});var gf={pan:{Feature:Zi},drag:{Feature:Yi,ProjectionNode:rn,MeasureLayout:Qi}};function xf(e,t,r){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",r==="Start");let n="onHover"+r,o=i[n];o&&D.postRender(()=>o(t,Ot(t)))}var nn=class extends Q{mount(){let{current:t}=this.node;t&&(this.unmount=ss(t,(r,i)=>(xf(this.node,i,"Start"),n=>xf(this.node,n,"End"))))}unmount(){}};var sn=class extends Q{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gt(Bt(this.node.current,"focus",()=>this.onFocus()),Bt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function yf(e,t,r){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",r==="Start");let n="onTap"+(r==="End"?"":r),o=i[n];o&&D.postRender(()=>o(t,Ot(t)))}var on=class extends Q{mount(){let{current:t}=this.node;t&&(this.unmount=ls(t,(r,i)=>(yf(this.node,i,"Start"),(n,{success:o})=>yf(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};var Is=new WeakMap,Ls=new WeakMap,oh=e=>{let t=Is.get(e.target);t&&t(e)},ah=e=>{e.forEach(oh)};function lh({root:e,...t}){let r=e||document;Ls.has(r)||Ls.set(r,{});let i=Ls.get(r),n=JSON.stringify(t);return i[n]||(i[n]=new IntersectionObserver(ah,{root:e,...t})),i[n]}function vf(e,t,r){let i=lh(t);return Is.set(e,r),i.observe(e),()=>{Is.delete(e),i.unobserve(e)}}var ch={some:0,all:1},an=class extends Q{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:r,margin:i,amount:n="some",once:o}=t,s={root:r?r.current:void 0,rootMargin:i,threshold:typeof n=="number"?n:ch[n]},a=l=>{let{isIntersecting:f}=l;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);let{onViewportEnter:c,onViewportLeave:u}=this.node.getProps(),m=f?c:u;m&&m(l)};return vf(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;let{props:t,prevProps:r}=this.node;["amount","margin","root"].some(fh(t,r))&&this.startObserver()}unmount(){}};function fh({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}var Tf={inView:{Feature:an},tap:{Feature:on},focus:{Feature:sn},hover:{Feature:nn}};var bf={layout:{ProjectionNode:rn,MeasureLayout:Qi}};var Sf={...pc,...Tf,...gf,...bf};var Bs=jl(Sf,sc);var kt=E(O(),1),ln=E(q(),1),uh=(e,t)=>{let r=new Set([...Object.keys(e),...t.flatMap(n=>Object.keys(n))]),i={};return r.forEach(n=>{i[n]=[e[n],...t.map(o=>o[n])]}),i},mh=({text:e="",delay:t=200,className:r="",animateBy:i="words",direction:n="top",threshold:o=.1,rootMargin:s="0px",easing:a=c=>c,onAnimationComplete:l,stepDuration:f=.35})=>{let c=i==="words"?e.split(" "):e.split(""),[u,m]=(0,kt.useState)(!1),h=(0,kt.useRef)(null);(0,kt.useEffect)(()=>{if(!h.current)return;let v=new IntersectionObserver(([S])=>{S.isIntersecting&&(m(!0),v.unobserve(h.current))},{threshold:o,rootMargin:s});return v.observe(h.current),()=>v.disconnect()},[o,s]);let p=(0,kt.useMemo)(()=>n==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50},[n]),d=(0,kt.useMemo)(()=>[{filter:"blur(5px)",opacity:.5,y:n==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}],[n]),x=p,g=d,T=g.length+1,y=f*(T-1),b=Array.from({length:T},(v,S)=>T===1?0:S/(T-1));return(0,ln.jsx)("p",{ref:h,className:`blur-text ${r} flex flex-wrap`,children:c.map((v,S)=>{let V=uh(x,g),M={duration:y,times:b,delay:S*t/1e3};return(0,ln.jsxs)(Bs.span,{className:"inline-block will-change-[transform,filter,opacity]",initial:x,animate:u?V:x,transition:M,onAnimationComplete:S===c.length-1?l:void 0,children:[v===" "?"\xA0":v,i==="words"&&S<c.length-1&&"\xA0"]},S)})})},Mf=mh;Xe();var cn=E(O(),1);function wf(){if(typeof window>"u")return null;let e=(He(),ge(mn)).default,t=(Xe(),ge(hn)).default;return e.registerPlugin(t),e}var Vf=E(q(),1);gsap.registerPlugin(xe);var hh=({children:e,distance:t=100,direction:r="vertical",reverse:i=!1,duration:n=.8,ease:o="power3.out",initialOpacity:s=0,animateOpacity:a=!0,scale:l=1,threshold:f=.1,delay:c=0,onComplete:u})=>{let m=(0,cn.useRef)(null);return(0,cn.useEffect)(()=>{let h=wf();if(!h)return;let p=m.current;if(p&&typeof window<"u"){let d=r==="horizontal"?"x":"y",x=i?-t:t,g=(1-f)*100;return h.set(p,{[d]:x,scale:l,opacity:a?s:1}),h.to(p,{[d]:0,scale:1,opacity:1,duration:n,ease:o,delay:c,onComplete:u,scrollTrigger:{trigger:p,start:`top ${g}%`,toggleActions:"play none none none",once:!0}}),()=>{xe.getAll().forEach(T=>T.kill()),h.killTweensOf(p)}}},[t,r,i,n,o,s,a,l,f,c,u]),(0,Vf.jsx)("div",{ref:m,children:e})},Af=hh;var qe=E(O(),1);He();Xe();var fn=E(q(),1);Nt.registerPlugin(xe);var ph=({children:e,scrollContainerRef:t,enableBlur:r=!0,baseOpacity:i=.1,baseRotation:n=3,blurStrength:o=4,containerClassName:s="",textClassName:a="",rotationEnd:l="bottom bottom",wordAnimationEnd:f="bottom bottom"})=>{let c=(0,qe.useRef)(null),u=(0,qe.useMemo)(()=>(typeof e=="string"?e:"").split(/(\s+)/).map((h,p)=>h.match(/^\s+$/)?h:(0,fn.jsx)("span",{className:"inline-block word",children:h},p)),[e]);return(0,qe.useEffect)(()=>{let m=c.current;if(!m&&typeof window<"u")return;let h=t&&t.current?t.current:window;Nt.fromTo(m,{transformOrigin:"0% 50%",rotate:n},{ease:"none",rotate:0,scrollTrigger:{trigger:m,scroller:h,start:"top bottom",end:l,scrub:!0}});let p=m.querySelectorAll(".word");return Nt.fromTo(p,{opacity:i,willChange:"opacity"},{ease:"none",opacity:1,stagger:.05,scrollTrigger:{trigger:m,scroller:h,start:"top bottom-=20%",end:f,scrub:!0}}),r&&Nt.fromTo(p,{filter:`blur(${o}px)`},{ease:"none",filter:"blur(0px)",stagger:.05,scrollTrigger:{trigger:m,scroller:h,start:"top bottom-=20%",end:f,scrub:!0}}),()=>{xe.getAll().forEach(d=>d.kill())}},[t,r,n,i,l,f,o]),(0,fn.jsx)("h2",{ref:c,className:`my-5 ${s}`,children:(0,fn.jsx)("p",{className:`text-[clamp(1.6rem,4vw,3rem)] leading-[1.5] font-semibold ${a}`,children:u})})},Pf=ph;var Ir=E(O(),1);He();var mt=E(q(),1);function dh({items:e=[]}){return(0,mt.jsx)("div",{className:"w-full h-full overflow-hidden",children:(0,mt.jsx)("nav",{className:"flex flex-col h-full m-0 p-0",children:e.map((t,r)=>(0,mt.jsx)(gh,{...t},r))})})}function gh({link:e,text:t,image:r}){let i=Ir.default.useRef(null),n=Ir.default.useRef(null),o=Ir.default.useRef(null),s={duration:.6,ease:"expo"},a=(u,m,h,p)=>{let d=(u-h/2)**2+m**2,x=(u-h/2)**2+(m-p)**2;return d<x?"top":"bottom"},l=u=>{if(!i.current||!n.current||!o.current)return;let m=i.current.getBoundingClientRect(),h=a(u.clientX-m.left,u.clientY-m.top,m.width,m.height);Nt.timeline({defaults:s}).set(n.current,{y:h==="top"?"-101%":"101%"}).set(o.current,{y:h==="top"?"101%":"-101%"}).to([n.current,o.current],{y:"0%"})},f=u=>{if(!i.current||!n.current||!o.current)return;let m=i.current.getBoundingClientRect(),h=a(u.clientX-m.left,u.clientY-m.top,m.width,m.height);Nt.timeline({defaults:s}).to(n.current,{y:h==="top"?"-101%":"101%"}).to(o.current,{y:h==="top"?"101%":"-101%"})},c=Array.from({length:4}).map((u,m)=>(0,mt.jsxs)(Ir.default.Fragment,{children:[(0,mt.jsx)("span",{className:"text-[#060010] uppercase font-normal text-[4vh] leading-[1.2] p-[1vh_1vw_0]",children:t}),(0,mt.jsx)("div",{className:"w-[200px] h-[7vh] my-[2em] mx-[2vw] p-[1em_0] rounded-[50px] bg-cover bg-center",style:{backgroundImage:`url(${r})`}})]},m));return(0,mt.jsxs)("div",{className:"flex-1 relative overflow-hidden text-center shadow-[0_-1px_0_0_#fff]",ref:i,children:[(0,mt.jsx)("a",{className:"flex items-center justify-center h-full relative cursor-pointer uppercase no-underline font-semibold text-white text-[4vh] hover:text-[#060010] focus:text-white focus-visible:text-[#060010]",href:e,onMouseEnter:l,onMouseLeave:f,children:t}),(0,mt.jsx)("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none bg-white translate-y-[101%]",ref:n,children:(0,mt.jsx)("div",{className:"h-full w-[200%] flex",ref:o,children:(0,mt.jsx)("div",{className:"flex items-center relative h-full w-[200%] will-change-transform animate-marquee",children:c})})})]})}var Cf=dh;var K=E(q(),1),xh=[{link:"/comunidad",text:"Comunidad",image:"https://picsum.photos/600/400?random=1"},{link:"/adoptar",text:"Sucias",image:"https://picsum.photos/600/400?random=2"},{link:"/about",text:"Acerca",image:"https://picsum.photos/600/400?random=3"}];function Ef(){return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(Or,{className:"absolute z-10"}),(0,K.jsxs)("div",{className:"relative w-full min-h-screen overflow-visible pt-20",children:[(0,K.jsx)(ra,{lightSpread:1.5,raysColor:"#deb597",noiseAmount:.05,rayLength:4,fadeDistance:1.6,distortion:.02,className:"absolute top-0 left-0 w-full h-full z-0 pointer-events-none"}),(0,K.jsxs)("div",{className:"relative  ml-16 pt-32 pb-16 md:px-4 lg:px-4 xl:px-4 flex flex-col items-start ",children:[(0,K.jsx)(Dn,{colors:["#ffffaa","#ffaa40","#40ffaa","#4079ff","#40ffaa"],animationSpeed:7,showBorder:!0,className:"text-7xl font-bold",children:"Zoolip"}),(0,K.jsx)(Mf,{text:"Una soluci\xF3n que salva vidas.",delay:150,onAnimationComplete:console.log("bitch"),animateBy:"words",direction:"top",className:"text-7xl font-medium mt-2"}),(0,K.jsx)("p",{className:"text-3xl mt-4",children:" Nuestra app conecta rescatistas, veterinarias y familias "}),(0,K.jsx)("p",{className:"text-3xl",children:" para transformar el futuro de cada perro "}),(0,K.jsx)(Af,{distance:150,onComplete:console.log("animatedcontent has been done"),direction:"horizontal",duration:1.2,animateOpacity:!0,children:(0,K.jsx)(ye,{size:"md",variant:"especial",classNameProps:"z-20 mt-2",children:"Salva perras"})})]})]}),(0,K.jsxs)("div",{className:"px-16 py-16",children:[(0,K.jsx)("div",{className:"pt-32 w-full",children:(0,K.jsx)(Cf,{items:xh})}),(0,K.jsx)("p",{className:"text-6xl mt-32",children:"Las perras de este lugar esta de locos"}),(0,K.jsx)("section",{children:(0,K.jsx)(Pf,{scrollContainerRef:window,baseOpacity:0,enableBlur:!0,baseRotation:5,blurStrength:10,containerClassName:"mt-12 mb-32",children:"\xBFCu\xE1ndo muere una mascota? \xBFCuando la atropella un auto? \xA1No! \xBFCuando enferma? \xA1No! \xBFCuando come algo venenoso? \xA1No! Una mascota muere cuando es olvidada. Con nuestra comunidad, nunca m\xE1s estar\xE1n solas ni olvidadas."})})]})]})}export{Ef as default};
